#define DEBUG

//See https://aka.ms/new-console-template for more information
using CChess;
using System.Diagnostics;

#if DEBUG

Utility.Show<Coord> showCoord = new(coord => coord.ToString());

void TestCoord()
{
    // Coord.ToString
    // var allRowCol = Coord.GetAllRowCol();
    var allCoord = Coord.CreatCoords();
    string expect = "(0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【90】";
    string result = Utility.GetString(allCoord, showCoord);
    Debug.Assert(expect == result);

    // Coord.RowCol
    string expectDataString = "00 01 02 03 04 05 06 07 08 10 11 12 13 14 15 16 17 18 20 21 22 23 24 25 26 27 28 30 31 32 33 34 35 36 37 38 40 41 42 43 44 45 46 47 48 50 51 52 53 54 55 56 57 58 60 61 62 63 64 65 66 67 68 70 71 72 73 74 75 76 77 78 80 81 82 83 84 85 86 87 88 90 91 92 93 94 95 96 97 98 【90】";
    List<string> allRowColStr = new();
    foreach(var coord in allCoord)
        allRowColStr.Add(coord.RowCol);
    result = Utility.GetString(allRowColStr, data => data.ToString(), " ");
    Debug.Assert(expectDataString == result);

    // Coord.Iccs
    string expectIccsString = "A0 B0 C0 D0 E0 F0 G0 H0 I0 A1 B1 C1 D1 E1 F1 G1 H1 I1 A2 B2 C2 D2 E2 F2 G2 H2 I2 A3 B3 C3 D3 E3 F3 G3 H3 I3 A4 B4 C4 D4 E4 F4 G4 H4 I4 A5 B5 C5 D5 E5 F5 G5 H5 I5 A6 B6 C6 D6 E6 F6 G6 H6 I6 A7 B7 C7 D7 E7 F7 G7 H7 I7 A8 B8 C8 D8 E8 F8 G8 H8 I8 A9 B9 C9 D9 E9 F9 G9 H9 I9 【90】";
    List<string> allIccs = new();
    foreach(var coord in allCoord)
        allIccs.Add(coord.Iccs);
    result = Utility.GetString(allIccs, iccs => iccs, " ");
    Debug.Assert(expectIccsString == result);

    // CoordComparer
    expect = "(9,8)(9,7)(9,6)(9,5)(9,4)(9,3)(9,2)(9,1)(9,0)(8,8)(8,7)(8,6)(8,5)(8,4)(8,3)(8,2)(8,1)(8,0)(7,8)(7,7)(7,6)(7,5)(7,4)(7,3)(7,2)(7,1)(7,0)(6,8)(6,7)(6,6)(6,5)(6,4)(6,3)(6,2)(6,1)(6,0)(5,8)(5,7)(5,6)(5,5)(5,4)(5,3)(5,2)(5,1)(5,0)(4,8)(4,7)(4,6)(4,5)(4,4)(4,3)(4,2)(4,1)(4,0)(3,8)(3,7)(3,6)(3,5)(3,4)(3,3)(3,2)(3,1)(3,0)(2,8)(2,7)(2,6)(2,5)(2,4)(2,3)(2,2)(2,1)(2,0)(1,8)(1,7)(1,6)(1,5)(1,4)(1,3)(1,2)(1,1)(1,0)(0,8)(0,7)(0,6)(0,5)(0,4)(0,3)(0,2)(0,1)(0,0)【90】";
    allCoord.Reverse();
    result = Utility.GetString(allCoord, showCoord);
    Debug.Assert(expect == result);
}

static void TestSeat()
{
    string expect = "(0,0):无空_(-1,-1) (0,1):无空_(-1,-1) (0,2):无空_(-1,-1) (0,3):无空_(-1,-1) (0,4):无空_(-1,-1) (0,5):无空_(-1,-1) (0,6):无空_(-1,-1) (0,7):无空_(-1,-1) (0,8):无空_(-1,-1) (1,0):无空_(-1,-1) (1,1):无空_(-1,-1) (1,2):无空_(-1,-1) (1,3):无空_(-1,-1) (1,4):无空_(-1,-1) (1,5):无空_(-1,-1) (1,6):无空_(-1,-1) (1,7):无空_(-1,-1) (1,8):无空_(-1,-1) (2,0):无空_(-1,-1) (2,1):无空_(-1,-1) (2,2):无空_(-1,-1) (2,3):无空_(-1,-1) (2,4):无空_(-1,-1) (2,5):无空_(-1,-1) (2,6):无空_(-1,-1) (2,7):无空_(-1,-1) (2,8):无空_(-1,-1) (3,0):无空_(-1,-1) (3,1):无空_(-1,-1) (3,2):无空_(-1,-1) (3,3):无空_(-1,-1) (3,4):无空_(-1,-1) (3,5):无空_(-1,-1) (3,6):无空_(-1,-1) (3,7):无空_(-1,-1) (3,8):无空_(-1,-1) (4,0):无空_(-1,-1) (4,1):无空_(-1,-1) (4,2):无空_(-1,-1) (4,3):无空_(-1,-1) (4,4):无空_(-1,-1) (4,5):无空_(-1,-1) (4,6):无空_(-1,-1) (4,7):无空_(-1,-1) (4,8):无空_(-1,-1) (5,0):无空_(-1,-1) (5,1):无空_(-1,-1) (5,2):无空_(-1,-1) (5,3):无空_(-1,-1) (5,4):无空_(-1,-1) (5,5):无空_(-1,-1) (5,6):无空_(-1,-1) (5,7):无空_(-1,-1) (5,8):无空_(-1,-1) (6,0):无空_(-1,-1) (6,1):无空_(-1,-1) (6,2):无空_(-1,-1) (6,3):无空_(-1,-1) (6,4):无空_(-1,-1) (6,5):无空_(-1,-1) (6,6):无空_(-1,-1) (6,7):无空_(-1,-1) (6,8):无空_(-1,-1) (7,0):无空_(-1,-1) (7,1):无空_(-1,-1) (7,2):无空_(-1,-1) (7,3):无空_(-1,-1) (7,4):无空_(-1,-1) (7,5):无空_(-1,-1) (7,6):无空_(-1,-1) (7,7):无空_(-1,-1) (7,8):无空_(-1,-1) (8,0):无空_(-1,-1) (8,1):无空_(-1,-1) (8,2):无空_(-1,-1) (8,3):无空_(-1,-1) (8,4):无空_(-1,-1) (8,5):无空_(-1,-1) (8,6):无空_(-1,-1) (8,7):无空_(-1,-1) (8,8):无空_(-1,-1) (9,0):无空_(-1,-1) (9,1):无空_(-1,-1) (9,2):无空_(-1,-1) (9,3):无空_(-1,-1) (9,4):无空_(-1,-1) (9,5):无空_(-1,-1) (9,6):无空_(-1,-1) (9,7):无空_(-1,-1) (9,8):无空_(-1,-1) 【90】";

    List<Seat> seats = new();
    foreach(var seat in Seat.CreatSeats())
        seats.Add(seat);

    string result = Utility.GetString(seats, seat => seat.ToString(), " ");
    Debug.Assert(expect == result);
}

static void TestPiece()
{
    string expect = "红帅K(-1,-1) 红仕A(-1,-1) 红仕A(-1,-1) 红相B(-1,-1) 红相B(-1,-1) 红马N(-1,-1) 红马N(-1,-1) 红车R(-1,-1) 红车R(-1,-1) 红炮C(-1,-1) 红炮C(-1,-1) 红兵P(-1,-1) 红兵P(-1,-1) 红兵P(-1,-1) 红兵P(-1,-1) 红兵P(-1,-1) 黑将k(-1,-1) 黑士a(-1,-1) 黑士a(-1,-1) 黑象b(-1,-1) 黑象b(-1,-1) 黑馬n(-1,-1) 黑馬n(-1,-1) 黑車r(-1,-1) 黑車r(-1,-1) 黑砲c(-1,-1) 黑砲c(-1,-1) 黑卒p(-1,-1) 黑卒p(-1,-1) 黑卒p(-1,-1) 黑卒p(-1,-1) 黑卒p(-1,-1) 【32】";

    List<Piece> pieces = new();
    foreach(var colorPieces in Piece.CreatPieces())
        foreach(var kindPieces in colorPieces)
            foreach(var piece in kindPieces)
                pieces.Add(piece);

    string result = Utility.GetString(pieces, piece => piece.ToString(), " ");
    Debug.Assert(expect == result);
}

void TestBoard()
{
    Board board = new();
    string expect = "红帅K(-1,-1) PutCoord: (0,3)(0,4)(0,5)(1,3)(1,4)(1,5)(2,3)(2,4)(2,5)【9】\n红仕A(-1,-1) PutCoord: (0,3)(0,5)(2,3)(2,5)(1,4)【5】\n红仕A(-1,-1) PutCoord: (0,3)(0,5)(2,3)(2,5)(1,4)【5】\n红相B(-1,-1) PutCoord: (0,2)(0,6)(4,2)(4,6)(2,0)(2,4)(2,8)【7】\n红相B(-1,-1) PutCoord: (0,2)(0,6)(4,2)(4,6)(2,0)(2,4)(2,8)【7】\n红马N(-1,-1) PutCoord: (0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【90】\n红马N(-1,-1) PutCoord: (0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【90】\n红车R(-1,-1) PutCoord: (0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【90】\n红车R(-1,-1) PutCoord: (0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【90】\n红炮C(-1,-1) PutCoord: (0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【90】\n红炮C(-1,-1) PutCoord: (0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【90】\n红兵P(-1,-1) PutCoord: (3,0)(3,2)(3,4)(3,6)(3,8)(4,0)(4,2)(4,4)(4,6)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【55】\n红兵P(-1,-1) PutCoord: (3,0)(3,2)(3,4)(3,6)(3,8)(4,0)(4,2)(4,4)(4,6)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【55】\n红兵P(-1,-1) PutCoord: (3,0)(3,2)(3,4)(3,6)(3,8)(4,0)(4,2)(4,4)(4,6)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【55】\n红兵P(-1,-1) PutCoord: (3,0)(3,2)(3,4)(3,6)(3,8)(4,0)(4,2)(4,4)(4,6)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【55】\n红兵P(-1,-1) PutCoord: (3,0)(3,2)(3,4)(3,6)(3,8)(4,0)(4,2)(4,4)(4,6)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【55】\n黑将k(-1,-1) PutCoord: (7,3)(7,4)(7,5)(8,3)(8,4)(8,5)(9,3)(9,4)(9,5)【9】\n黑士a(-1,-1) PutCoord: (7,3)(7,5)(9,3)(9,5)(8,4)【5】\n黑士a(-1,-1) PutCoord: (7,3)(7,5)(9,3)(9,5)(8,4)【5】\n黑象b(-1,-1) PutCoord: (5,2)(5,6)(9,2)(9,6)(7,0)(7,4)(7,8)【7】\n黑象b(-1,-1) PutCoord: (5,2)(5,6)(9,2)(9,6)(7,0)(7,4)(7,8)【7】\n黑馬n(-1,-1) PutCoord: (0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【90】\n黑馬n(-1,-1) PutCoord: (0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【90】\n黑車r(-1,-1) PutCoord: (0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【90】\n黑車r(-1,-1) PutCoord: (0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【90】\n黑砲c(-1,-1) PutCoord: (0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【90】\n黑砲c(-1,-1) PutCoord: (0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)(5,0)(5,1)(5,2)(5,3)(5,4)(5,5)(5,6)(5,7)(5,8)(6,0)(6,1)(6,2)(6,3)(6,4)(6,5)(6,6)(6,7)(6,8)(7,0)(7,1)(7,2)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)(8,0)(8,1)(8,2)(8,3)(8,4)(8,5)(8,6)(8,7)(8,8)(9,0)(9,1)(9,2)(9,3)(9,4)(9,5)(9,6)(9,7)(9,8)【90】\n黑卒p(-1,-1) PutCoord: (5,0)(5,2)(5,4)(5,6)(5,8)(6,0)(6,2)(6,4)(6,6)(6,8)(0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)【55】\n黑卒p(-1,-1) PutCoord: (5,0)(5,2)(5,4)(5,6)(5,8)(6,0)(6,2)(6,4)(6,6)(6,8)(0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)【55】\n黑卒p(-1,-1) PutCoord: (5,0)(5,2)(5,4)(5,6)(5,8)(6,0)(6,2)(6,4)(6,6)(6,8)(0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)【55】\n黑卒p(-1,-1) PutCoord: (5,0)(5,2)(5,4)(5,6)(5,8)(6,0)(6,2)(6,4)(6,6)(6,8)(0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)【55】\n黑卒p(-1,-1) PutCoord: (5,0)(5,2)(5,4)(5,6)(5,8)(6,0)(6,2)(6,4)(6,6)(6,8)(0,0)(0,1)(0,2)(0,3)(0,4)(0,5)(0,6)(0,7)(0,8)(1,0)(1,1)(1,2)(1,3)(1,4)(1,5)(1,6)(1,7)(1,8)(2,0)(2,1)(2,2)(2,3)(2,4)(2,5)(2,6)(2,7)(2,8)(3,0)(3,1)(3,2)(3,3)(3,4)(3,5)(3,6)(3,7)(3,8)(4,0)(4,1)(4,2)(4,3)(4,4)(4,5)(4,6)(4,7)(4,8)【55】\n【32】";
    List<Piece> pieces = board.Pieces(PieceColor.Red);
    pieces.AddRange(board.Pieces(PieceColor.Black));
    string result = Utility.GetString(pieces,
        piece => piece.ToString() + " PutCoord: "
        + Utility.GetString(piece.PutCoord(board, board.IsBottomColor(piece.Color)), showCoord), "\n");
    Debug.Assert(expect == result);

    string[] fens = {
        "rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR",
        "5a3/4ak2r/6R2/8p/9/9/9/B4N2B/4K4/3c5",
        "5k3/9/9/9/9/9/4rp3/2R1C4/4K4/9",
    };
    string[] expectStrings = {
        "NoChange: \nrnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR\n　　　　　　　黑　方　　　　　　　\n１　２　３　４　５　６　７　８　９\n車━馬━象━士━将━士━象━馬━車\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─╳─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n┠─砲─┼─┼─┼─┼─┼─砲─┨\n┃　│　│　│　│　│　│　│　┃\n卒─┼─卒─┼─卒─┼─卒─┼─卒\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n兵─┼─兵─┼─兵─┼─兵─┼─兵\n┃　│　│　│　│　│　│　│　┃\n┠─炮─┼─┼─┼─┼─┼─炮─┨\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─╳─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n车━马━相━仕━帅━仕━相━马━车\n九　八　七　六　五　四　三　二　一\n　　　　　　　红　方　　　　　　　\n红帅K(0,4) CanMoveCoord: (1,4)【1】\n红仕A(0,3) CanMoveCoord: (1,4)【1】\n红仕A(0,5) CanMoveCoord: (1,4)【1】\n红相B(0,2) CanMoveCoord: (2,0)(2,4)【2】\n红相B(0,6) CanMoveCoord: (2,4)(2,8)【2】\n红马N(0,1) CanMoveCoord: (2,0)(2,2)【2】\n红马N(0,7) CanMoveCoord: (2,6)(2,8)【2】\n红车R(0,0) CanMoveCoord: (1,0)(2,0)【2】\n红车R(0,8) CanMoveCoord: (1,8)(2,8)【2】\n红炮C(2,1) CanMoveCoord: (1,1)(3,1)(4,1)(5,1)(6,1)(9,1)(2,0)(2,2)(2,3)(2,4)(2,5)(2,6)【12】\n红炮C(2,7) CanMoveCoord: (1,7)(3,7)(4,7)(5,7)(6,7)(9,7)(2,6)(2,5)(2,4)(2,3)(2,2)(2,8)【12】\n红兵P(3,0) CanMoveCoord: (4,0)【1】\n红兵P(3,2) CanMoveCoord: (4,2)【1】\n红兵P(3,4) CanMoveCoord: (4,4)【1】\n红兵P(3,6) CanMoveCoord: (4,6)【1】\n红兵P(3,8) CanMoveCoord: (4,8)【1】\n黑将k(9,4) CanMoveCoord: (8,4)【1】\n黑士a(9,3) CanMoveCoord: (8,4)【1】\n黑士a(9,5) CanMoveCoord: (8,4)【1】\n黑象b(9,2) CanMoveCoord: (7,0)(7,4)【2】\n黑象b(9,6) CanMoveCoord: (7,4)(7,8)【2】\n黑馬n(9,1) CanMoveCoord: (7,0)(7,2)【2】\n黑馬n(9,7) CanMoveCoord: (7,6)(7,8)【2】\n黑車r(9,0) CanMoveCoord: (8,0)(7,0)【2】\n黑車r(9,8) CanMoveCoord: (8,8)(7,8)【2】\n黑砲c(7,1) CanMoveCoord: (6,1)(5,1)(4,1)(3,1)(0,1)(8,1)(7,0)(7,2)(7,3)(7,4)(7,5)(7,6)【12】\n黑砲c(7,7) CanMoveCoord: (6,7)(5,7)(4,7)(3,7)(0,7)(8,7)(7,6)(7,5)(7,4)(7,3)(7,2)(7,8)【12】\n黑卒p(6,0) CanMoveCoord: (5,0)【1】\n黑卒p(6,2) CanMoveCoord: (5,2)【1】\n黑卒p(6,4) CanMoveCoord: (5,4)【1】\n黑卒p(6,6) CanMoveCoord: (5,6)【1】\n黑卒p(6,8) CanMoveCoord: (5,8)【1】\n【32】\nSymmetry_V: \nRNBAKABNR/9/1C5C1/P1P1P1P1P/9/9/p1p1p1p1p/1c5c1/9/rnbakabnr\n　　　　　　　红　方　　　　　　　\n一　二　三　四　五　六　七　八　九\n车━马━相━仕━帅━仕━相━马━车\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─╳─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n┠─炮─┼─┼─┼─┼─┼─炮─┨\n┃　│　│　│　│　│　│　│　┃\n兵─┼─兵─┼─兵─┼─兵─┼─兵\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n卒─┼─卒─┼─卒─┼─卒─┼─卒\n┃　│　│　│　│　│　│　│　┃\n┠─砲─┼─┼─┼─┼─┼─砲─┨\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─╳─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n車━馬━象━士━将━士━象━馬━車\n９　８　７　６　５　４　３　２　１\n　　　　　　　黑　方　　　　　　　\n红帅K(9,4) CanMoveCoord: (8,4)【1】\n红仕A(9,3) CanMoveCoord: (8,4)【1】\n红仕A(9,5) CanMoveCoord: (8,4)【1】\n红相B(9,2) CanMoveCoord: (7,0)(7,4)【2】\n红相B(9,6) CanMoveCoord: (7,4)(7,8)【2】\n红马N(9,1) CanMoveCoord: (7,0)(7,2)【2】\n红马N(9,7) CanMoveCoord: (7,6)(7,8)【2】\n红车R(9,0) CanMoveCoord: (8,0)(7,0)【2】\n红车R(9,8) CanMoveCoord: (8,8)(7,8)【2】\n红炮C(7,1) CanMoveCoord: (6,1)(5,1)(4,1)(3,1)(0,1)(8,1)(7,0)(7,2)(7,3)(7,4)(7,5)(7,6)【12】\n红炮C(7,7) CanMoveCoord: (6,7)(5,7)(4,7)(3,7)(0,7)(8,7)(7,6)(7,5)(7,4)(7,3)(7,2)(7,8)【12】\n红兵P(6,0) CanMoveCoord: (5,0)【1】\n红兵P(6,2) CanMoveCoord: (5,2)【1】\n红兵P(6,4) CanMoveCoord: (5,4)【1】\n红兵P(6,6) CanMoveCoord: (5,6)【1】\n红兵P(6,8) CanMoveCoord: (5,8)【1】\n黑将k(0,4) CanMoveCoord: (1,4)【1】\n黑士a(0,3) CanMoveCoord: (1,4)【1】\n黑士a(0,5) CanMoveCoord: (1,4)【1】\n黑象b(0,2) CanMoveCoord: (2,0)(2,4)【2】\n黑象b(0,6) CanMoveCoord: (2,4)(2,8)【2】\n黑馬n(0,1) CanMoveCoord: (2,0)(2,2)【2】\n黑馬n(0,7) CanMoveCoord: (2,6)(2,8)【2】\n黑車r(0,0) CanMoveCoord: (1,0)(2,0)【2】\n黑車r(0,8) CanMoveCoord: (1,8)(2,8)【2】\n黑砲c(2,1) CanMoveCoord: (1,1)(3,1)(4,1)(5,1)(6,1)(9,1)(2,0)(2,2)(2,3)(2,4)(2,5)(2,6)【12】\n黑砲c(2,7) CanMoveCoord: (1,7)(3,7)(4,7)(5,7)(6,7)(9,7)(2,6)(2,5)(2,4)(2,3)(2,2)(2,8)【12】\n黑卒p(3,0) CanMoveCoord: (4,0)【1】\n黑卒p(3,2) CanMoveCoord: (4,2)【1】\n黑卒p(3,4) CanMoveCoord: (4,4)【1】\n黑卒p(3,6) CanMoveCoord: (4,6)【1】\n黑卒p(3,8) CanMoveCoord: (4,8)【1】\n【32】\nRotate: \nrnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR\n　　　　　　　黑　方　　　　　　　\n１　２　３　４　５　６　７　８　９\n車━馬━象━士━将━士━象━馬━車\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─╳─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n┠─砲─┼─┼─┼─┼─┼─砲─┨\n┃　│　│　│　│　│　│　│　┃\n卒─┼─卒─┼─卒─┼─卒─┼─卒\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n兵─┼─兵─┼─兵─┼─兵─┼─兵\n┃　│　│　│　│　│　│　│　┃\n┠─炮─┼─┼─┼─┼─┼─炮─┨\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─╳─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n车━马━相━仕━帅━仕━相━马━车\n九　八　七　六　五　四　三　二　一\n　　　　　　　红　方　　　　　　　\n红帅K(0,4) CanMoveCoord: (1,4)【1】\n红仕A(0,3) CanMoveCoord: (1,4)【1】\n红仕A(0,5) CanMoveCoord: (1,4)【1】\n红相B(0,2) CanMoveCoord: (2,0)(2,4)【2】\n红相B(0,6) CanMoveCoord: (2,4)(2,8)【2】\n红马N(0,1) CanMoveCoord: (2,0)(2,2)【2】\n红马N(0,7) CanMoveCoord: (2,6)(2,8)【2】\n红车R(0,0) CanMoveCoord: (1,0)(2,0)【2】\n红车R(0,8) CanMoveCoord: (1,8)(2,8)【2】\n红炮C(2,1) CanMoveCoord: (1,1)(3,1)(4,1)(5,1)(6,1)(9,1)(2,0)(2,2)(2,3)(2,4)(2,5)(2,6)【12】\n红炮C(2,7) CanMoveCoord: (1,7)(3,7)(4,7)(5,7)(6,7)(9,7)(2,6)(2,5)(2,4)(2,3)(2,2)(2,8)【12】\n红兵P(3,0) CanMoveCoord: (4,0)【1】\n红兵P(3,2) CanMoveCoord: (4,2)【1】\n红兵P(3,4) CanMoveCoord: (4,4)【1】\n红兵P(3,6) CanMoveCoord: (4,6)【1】\n红兵P(3,8) CanMoveCoord: (4,8)【1】\n黑将k(9,4) CanMoveCoord: (8,4)【1】\n黑士a(9,3) CanMoveCoord: (8,4)【1】\n黑士a(9,5) CanMoveCoord: (8,4)【1】\n黑象b(9,2) CanMoveCoord: (7,0)(7,4)【2】\n黑象b(9,6) CanMoveCoord: (7,4)(7,8)【2】\n黑馬n(9,1) CanMoveCoord: (7,0)(7,2)【2】\n黑馬n(9,7) CanMoveCoord: (7,6)(7,8)【2】\n黑車r(9,0) CanMoveCoord: (8,0)(7,0)【2】\n黑車r(9,8) CanMoveCoord: (8,8)(7,8)【2】\n黑砲c(7,1) CanMoveCoord: (6,1)(5,1)(4,1)(3,1)(0,1)(8,1)(7,0)(7,2)(7,3)(7,4)(7,5)(7,6)【12】\n黑砲c(7,7) CanMoveCoord: (6,7)(5,7)(4,7)(3,7)(0,7)(8,7)(7,6)(7,5)(7,4)(7,3)(7,2)(7,8)【12】\n黑卒p(6,0) CanMoveCoord: (5,0)【1】\n黑卒p(6,2) CanMoveCoord: (5,2)【1】\n黑卒p(6,4) CanMoveCoord: (5,4)【1】\n黑卒p(6,6) CanMoveCoord: (5,6)【1】\n黑卒p(6,8) CanMoveCoord: (5,8)【1】\n【32】\nSymmetry_H: \nrnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR\n　　　　　　　黑　方　　　　　　　\n１　２　３　４　５　６　７　８　９\n車━馬━象━士━将━士━象━馬━車\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─╳─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n┠─砲─┼─┼─┼─┼─┼─砲─┨\n┃　│　│　│　│　│　│　│　┃\n卒─┼─卒─┼─卒─┼─卒─┼─卒\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n兵─┼─兵─┼─兵─┼─兵─┼─兵\n┃　│　│　│　│　│　│　│　┃\n┠─炮─┼─┼─┼─┼─┼─炮─┨\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─╳─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n车━马━相━仕━帅━仕━相━马━车\n九　八　七　六　五　四　三　二　一\n　　　　　　　红　方　　　　　　　\n红帅K(0,4) CanMoveCoord: (1,4)【1】\n红仕A(0,3) CanMoveCoord: (1,4)【1】\n红仕A(0,5) CanMoveCoord: (1,4)【1】\n红相B(0,2) CanMoveCoord: (2,0)(2,4)【2】\n红相B(0,6) CanMoveCoord: (2,4)(2,8)【2】\n红马N(0,1) CanMoveCoord: (2,0)(2,2)【2】\n红马N(0,7) CanMoveCoord: (2,6)(2,8)【2】\n红车R(0,0) CanMoveCoord: (1,0)(2,0)【2】\n红车R(0,8) CanMoveCoord: (1,8)(2,8)【2】\n红炮C(2,1) CanMoveCoord: (1,1)(3,1)(4,1)(5,1)(6,1)(9,1)(2,0)(2,2)(2,3)(2,4)(2,5)(2,6)【12】\n红炮C(2,7) CanMoveCoord: (1,7)(3,7)(4,7)(5,7)(6,7)(9,7)(2,6)(2,5)(2,4)(2,3)(2,2)(2,8)【12】\n红兵P(3,0) CanMoveCoord: (4,0)【1】\n红兵P(3,2) CanMoveCoord: (4,2)【1】\n红兵P(3,4) CanMoveCoord: (4,4)【1】\n红兵P(3,6) CanMoveCoord: (4,6)【1】\n红兵P(3,8) CanMoveCoord: (4,8)【1】\n黑将k(9,4) CanMoveCoord: (8,4)【1】\n黑士a(9,3) CanMoveCoord: (8,4)【1】\n黑士a(9,5) CanMoveCoord: (8,4)【1】\n黑象b(9,2) CanMoveCoord: (7,0)(7,4)【2】\n黑象b(9,6) CanMoveCoord: (7,4)(7,8)【2】\n黑馬n(9,1) CanMoveCoord: (7,0)(7,2)【2】\n黑馬n(9,7) CanMoveCoord: (7,6)(7,8)【2】\n黑車r(9,0) CanMoveCoord: (8,0)(7,0)【2】\n黑車r(9,8) CanMoveCoord: (8,8)(7,8)【2】\n黑砲c(7,1) CanMoveCoord: (6,1)(5,1)(4,1)(3,1)(0,1)(8,1)(7,0)(7,2)(7,3)(7,4)(7,5)(7,6)【12】\n黑砲c(7,7) CanMoveCoord: (6,7)(5,7)(4,7)(3,7)(0,7)(8,7)(7,6)(7,5)(7,4)(7,3)(7,2)(7,8)【12】\n黑卒p(6,0) CanMoveCoord: (5,0)【1】\n黑卒p(6,2) CanMoveCoord: (5,2)【1】\n黑卒p(6,4) CanMoveCoord: (5,4)【1】\n黑卒p(6,6) CanMoveCoord: (5,6)【1】\n黑卒p(6,8) CanMoveCoord: (5,8)【1】\n【32】\nExchange: \nRNBAKABNR/9/1C5C1/P1P1P1P1P/9/9/p1p1p1p1p/1c5c1/9/rnbakabnr\n　　　　　　　红　方　　　　　　　\n一　二　三　四　五　六　七　八　九\n车━马━相━仕━帅━仕━相━马━车\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─╳─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n┠─炮─┼─┼─┼─┼─┼─炮─┨\n┃　│　│　│　│　│　│　│　┃\n兵─┼─兵─┼─兵─┼─兵─┼─兵\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n卒─┼─卒─┼─卒─┼─卒─┼─卒\n┃　│　│　│　│　│　│　│　┃\n┠─砲─┼─┼─┼─┼─┼─砲─┨\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─╳─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n車━馬━象━士━将━士━象━馬━車\n９　８　７　６　５　４　３　２　１\n　　　　　　　黑　方　　　　　　　\n红帅K(9,4) CanMoveCoord: (8,4)【1】\n红仕A(9,3) CanMoveCoord: (8,4)【1】\n红仕A(9,5) CanMoveCoord: (8,4)【1】\n红相B(9,2) CanMoveCoord: (7,0)(7,4)【2】\n红相B(9,6) CanMoveCoord: (7,4)(7,8)【2】\n红马N(9,1) CanMoveCoord: (7,0)(7,2)【2】\n红马N(9,7) CanMoveCoord: (7,6)(7,8)【2】\n红车R(9,0) CanMoveCoord: (8,0)(7,0)【2】\n红车R(9,8) CanMoveCoord: (8,8)(7,8)【2】\n红炮C(7,1) CanMoveCoord: (6,1)(5,1)(4,1)(3,1)(0,1)(8,1)(7,0)(7,2)(7,3)(7,4)(7,5)(7,6)【12】\n红炮C(7,7) CanMoveCoord: (6,7)(5,7)(4,7)(3,7)(0,7)(8,7)(7,6)(7,5)(7,4)(7,3)(7,2)(7,8)【12】\n红兵P(6,0) CanMoveCoord: (5,0)【1】\n红兵P(6,2) CanMoveCoord: (5,2)【1】\n红兵P(6,4) CanMoveCoord: (5,4)【1】\n红兵P(6,6) CanMoveCoord: (5,6)【1】\n红兵P(6,8) CanMoveCoord: (5,8)【1】\n黑将k(0,4) CanMoveCoord: (1,4)【1】\n黑士a(0,3) CanMoveCoord: (1,4)【1】\n黑士a(0,5) CanMoveCoord: (1,4)【1】\n黑象b(0,2) CanMoveCoord: (2,0)(2,4)【2】\n黑象b(0,6) CanMoveCoord: (2,4)(2,8)【2】\n黑馬n(0,1) CanMoveCoord: (2,0)(2,2)【2】\n黑馬n(0,7) CanMoveCoord: (2,6)(2,8)【2】\n黑車r(0,0) CanMoveCoord: (1,0)(2,0)【2】\n黑車r(0,8) CanMoveCoord: (1,8)(2,8)【2】\n黑砲c(2,1) CanMoveCoord: (1,1)(3,1)(4,1)(5,1)(6,1)(9,1)(2,0)(2,2)(2,3)(2,4)(2,5)(2,6)【12】\n黑砲c(2,7) CanMoveCoord: (1,7)(3,7)(4,7)(5,7)(6,7)(9,7)(2,6)(2,5)(2,4)(2,3)(2,2)(2,8)【12】\n黑卒p(3,0) CanMoveCoord: (4,0)【1】\n黑卒p(3,2) CanMoveCoord: (4,2)【1】\n黑卒p(3,4) CanMoveCoord: (4,4)【1】\n黑卒p(3,6) CanMoveCoord: (4,6)【1】\n黑卒p(3,8) CanMoveCoord: (4,8)【1】\n【32】\n",
        "NoChange: \n5a3/4ak2r/6R2/8p/9/9/9/B4N2B/4K4/3c5\n　　　　　　　黑　方　　　　　　　\n１　２　３　４　５　６　７　８　９\n┏━┯━┯━┯━┯━士━┯━┯━┓\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─士─将─┼─┼─車\n┃　│　│　│╱│╲│　│　│　┃\n┠─╬─┼─┼─┼─┼─车─╬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─╬─┼─╬─┼─╬─┼─卒\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─╬─┼─╬─┼─╬─┼─┨\n┃　│　│　│　│　│　│　│　┃\n相─╬─┼─┼─┼─马─┼─╬─相\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─帅─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n┗━┷━┷━砲━┷━┷━┷━┷━┛\n九　八　七　六　五　四　三　二　一\n　　　　　　　红　方　　　　　　　\n红帅K(1,4) CanMoveCoord: (1,3)(1,5)(2,4)(0,4)【4】\n红相B(2,0) CanMoveCoord: (4,2)(0,2)【2】\n红相B(2,8) CanMoveCoord: (4,6)(0,6)【2】\n红马N(2,5) CanMoveCoord: (0,4)(0,6)(1,3)(1,7)(3,3)(3,7)(4,4)(4,6)【8】\n红车R(7,6) CanMoveCoord: (6,6)(5,6)(4,6)(3,6)(2,6)(1,6)(0,6)(8,6)(9,6)(7,5)(7,4)(7,3)(7,2)(7,1)(7,0)(7,7)(7,8)【17】\n黑将k(8,5) CanMoveCoord: 【0】\n黑士a(8,4) CanMoveCoord: (7,3)(7,5)(9,3)【3】\n黑士a(9,5) CanMoveCoord: 【0】\n黑車r(8,8) CanMoveCoord: (7,8)(9,8)(8,7)(8,6)【4】\n黑砲c(0,3) CanMoveCoord: (1,3)(2,3)(3,3)(4,3)(5,3)(6,3)(7,3)(8,3)(9,3)(0,2)(0,1)(0,0)(0,4)(0,5)(0,6)(0,7)(0,8)【17】\n黑卒p(6,8) CanMoveCoord: (5,8)【1】\n【11】\nSymmetry_V: \n3c5/4K4/B4N2B/9/9/9/8p/6R2/4ak2r/5a3\n　　　　　　　红　方　　　　　　　\n一　二　三　四　五　六　七　八　九\n┏━┯━┯━砲━┯━┯━┯━┯━┓\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─帅─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n相─╬─┼─┼─┼─马─┼─╬─相\n┃　│　│　│　│　│　│　│　┃\n┠─┼─╬─┼─╬─┼─╬─┼─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─╬─┼─╬─┼─╬─┼─卒\n┃　│　│　│　│　│　│　│　┃\n┠─╬─┼─┼─┼─┼─车─╬─┨\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─士─将─┼─┼─車\n┃　│　│　│╱│╲│　│　│　┃\n┗━┷━┷━┷━┷━士━┷━┷━┛\n９　８　７　６　５　４　３　２　１\n　　　　　　　黑　方　　　　　　　\n红帅K(8,4) CanMoveCoord: (8,3)(8,5)(9,4)(7,4)【4】\n红相B(7,0) CanMoveCoord: (9,2)(5,2)【2】\n红相B(7,8) CanMoveCoord: (9,6)(5,6)【2】\n红马N(7,5) CanMoveCoord: (5,4)(5,6)(6,3)(6,7)(8,3)(8,7)(9,4)(9,6)【8】\n红车R(2,6) CanMoveCoord: (1,6)(0,6)(3,6)(4,6)(5,6)(6,6)(7,6)(8,6)(9,6)(2,5)(2,4)(2,3)(2,2)(2,1)(2,0)(2,7)(2,8)【17】\n黑将k(1,5) CanMoveCoord: 【0】\n黑士a(0,5) CanMoveCoord: 【0】\n黑士a(1,4) CanMoveCoord: (0,3)(2,3)(2,5)【3】\n黑車r(1,8) CanMoveCoord: (0,8)(2,8)(1,7)(1,6)【4】\n黑砲c(9,3) CanMoveCoord: (8,3)(7,3)(6,3)(5,3)(4,3)(3,3)(2,3)(1,3)(0,3)(9,2)(9,1)(9,0)(9,4)(9,5)(9,6)(9,7)(9,8)【17】\n黑卒p(3,8) CanMoveCoord: (4,8)【1】\n【11】\nRotate: \n3a5/r2ka4/2R6/p8/9/9/9/B2N4B/4K4/5c3\n　　　　　　　黑　方　　　　　　　\n１　２　３　４　５　６　７　８　９\n┏━┯━┯━士━┯━┯━┯━┯━┓\n┃　│　│　│╲│╱│　│　│　┃\n車─┼─┼─将─士─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n┠─╬─车─┼─┼─┼─┼─╬─┨\n┃　│　│　│　│　│　│　│　┃\n卒─┼─╬─┼─╬─┼─╬─┼─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─╬─┼─╬─┼─╬─┼─┨\n┃　│　│　│　│　│　│　│　┃\n相─╬─┼─马─┼─┼─┼─╬─相\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─帅─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n┗━┷━┷━┷━┷━砲━┷━┷━┛\n九　八　七　六　五　四　三　二　一\n　　　　　　　红　方　　　　　　　\n红帅K(1,4) CanMoveCoord: (1,3)(1,5)(2,4)(0,4)【4】\n红相B(2,0) CanMoveCoord: (4,2)(0,2)【2】\n红相B(2,8) CanMoveCoord: (4,6)(0,6)【2】\n红马N(2,3) CanMoveCoord: (0,2)(0,4)(1,1)(1,5)(3,1)(3,5)(4,2)(4,4)【8】\n红车R(7,2) CanMoveCoord: (6,2)(5,2)(4,2)(3,2)(2,2)(1,2)(0,2)(8,2)(9,2)(7,1)(7,0)(7,3)(7,4)(7,5)(7,6)(7,7)(7,8)【17】\n黑将k(8,3) CanMoveCoord: 【0】\n黑士a(8,4) CanMoveCoord: (7,3)(7,5)(9,5)【3】\n黑士a(9,3) CanMoveCoord: 【0】\n黑車r(8,0) CanMoveCoord: (7,0)(9,0)(8,1)(8,2)【4】\n黑砲c(0,5) CanMoveCoord: (1,5)(2,5)(3,5)(4,5)(5,5)(6,5)(7,5)(8,5)(9,5)(0,4)(0,3)(0,2)(0,1)(0,0)(0,6)(0,7)(0,8)【17】\n黑卒p(6,0) CanMoveCoord: (5,0)【1】\n【11】\nSymmetry_H: \n5a3/4ak2r/6R2/8p/9/9/9/B4N2B/4K4/3c5\n　　　　　　　黑　方　　　　　　　\n１　２　３　４　５　６　７　８　９\n┏━┯━┯━┯━┯━士━┯━┯━┓\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─士─将─┼─┼─車\n┃　│　│　│╱│╲│　│　│　┃\n┠─╬─┼─┼─┼─┼─车─╬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─╬─┼─╬─┼─╬─┼─卒\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─╬─┼─╬─┼─╬─┼─┨\n┃　│　│　│　│　│　│　│　┃\n相─╬─┼─┼─┼─马─┼─╬─相\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─帅─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n┗━┷━┷━砲━┷━┷━┷━┷━┛\n九　八　七　六　五　四　三　二　一\n　　　　　　　红　方　　　　　　　\n红帅K(1,4) CanMoveCoord: (1,3)(1,5)(2,4)(0,4)【4】\n红相B(2,0) CanMoveCoord: (4,2)(0,2)【2】\n红相B(2,8) CanMoveCoord: (4,6)(0,6)【2】\n红马N(2,5) CanMoveCoord: (0,4)(0,6)(1,3)(1,7)(3,3)(3,7)(4,4)(4,6)【8】\n红车R(7,6) CanMoveCoord: (6,6)(5,6)(4,6)(3,6)(2,6)(1,6)(0,6)(8,6)(9,6)(7,5)(7,4)(7,3)(7,2)(7,1)(7,0)(7,7)(7,8)【17】\n黑将k(8,5) CanMoveCoord: 【0】\n黑士a(8,4) CanMoveCoord: (7,3)(7,5)(9,3)【3】\n黑士a(9,5) CanMoveCoord: 【0】\n黑車r(8,8) CanMoveCoord: (7,8)(9,8)(8,7)(8,6)【4】\n黑砲c(0,3) CanMoveCoord: (1,3)(2,3)(3,3)(4,3)(5,3)(6,3)(7,3)(8,3)(9,3)(0,2)(0,1)(0,0)(0,4)(0,5)(0,6)(0,7)(0,8)【17】\n黑卒p(6,8) CanMoveCoord: (5,8)【1】\n【11】\nExchange: \n5A3/4AK2R/6r2/8P/9/9/9/b4n2b/4k4/3C5\n　　　　　　　红　方　　　　　　　\n一　二　三　四　五　六　七　八　九\n┏━┯━┯━┯━┯━仕━┯━┯━┓\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─仕─帅─┼─┼─车\n┃　│　│　│╱│╲│　│　│　┃\n┠─╬─┼─┼─┼─┼─車─╬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─╬─┼─╬─┼─╬─┼─兵\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─╬─┼─╬─┼─╬─┼─┨\n┃　│　│　│　│　│　│　│　┃\n象─╬─┼─┼─┼─馬─┼─╬─象\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─将─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n┗━┷━┷━炮━┷━┷━┷━┷━┛\n９　８　７　６　５　４　３　２　１\n　　　　　　　黑　方　　　　　　　\n红帅K(8,5) CanMoveCoord: 【0】\n红仕A(8,4) CanMoveCoord: (7,3)(7,5)(9,3)【3】\n红仕A(9,5) CanMoveCoord: 【0】\n红车R(8,8) CanMoveCoord: (7,8)(9,8)(8,7)(8,6)【4】\n红炮C(0,3) CanMoveCoord: (1,3)(2,3)(3,3)(4,3)(5,3)(6,3)(7,3)(8,3)(9,3)(0,2)(0,1)(0,0)(0,4)(0,5)(0,6)(0,7)(0,8)【17】\n红兵P(6,8) CanMoveCoord: (5,8)【1】\n黑将k(1,4) CanMoveCoord: (1,3)(1,5)(2,4)(0,4)【4】\n黑象b(2,0) CanMoveCoord: (4,2)(0,2)【2】\n黑象b(2,8) CanMoveCoord: (4,6)(0,6)【2】\n黑馬n(2,5) CanMoveCoord: (0,4)(0,6)(1,3)(1,7)(3,3)(3,7)(4,4)(4,6)【8】\n黑車r(7,6) CanMoveCoord: (6,6)(5,6)(4,6)(3,6)(2,6)(1,6)(0,6)(8,6)(9,6)(7,5)(7,4)(7,3)(7,2)(7,1)(7,0)(7,7)(7,8)【17】\n【11】\n",
        "NoChange: \n5k3/9/9/9/9/9/4rp3/2R1C4/4K4/9\n　　　　　　　黑　方　　　　　　　\n１　２　３　４　５　６　７　８　９\n┏━┯━┯━┯━┯━将━┯━┯━┓\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─╳─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n┠─╬─┼─┼─┼─┼─┼─╬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─╬─┼─╬─┼─╬─┼─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─╬─┼─車─卒─╬─┼─┨\n┃　│　│　│　│　│　│　│　┃\n┠─╬─车─┼─炮─┼─┼─╬─┨\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─帅─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n┗━┷━┷━┷━┷━┷━┷━┷━┛\n九　八　七　六　五　四　三　二　一\n　　　　　　　红　方　　　　　　　\n红帅K(1,4) CanMoveCoord: (1,3)(1,5)(0,4)【3】\n红车R(2,2) CanMoveCoord: (1,2)(0,2)(3,2)(4,2)(5,2)(6,2)(7,2)(8,2)(9,2)(2,1)(2,0)(2,3)【12】\n红炮C(2,4) CanMoveCoord: 【0】\n黑将k(9,5) CanMoveCoord: (8,5)【1】\n黑車r(3,4) CanMoveCoord: (2,4)(4,4)(5,4)(6,4)(7,4)(8,4)(9,4)(3,3)(3,2)(3,1)(3,0)【11】\n黑卒p(3,5) CanMoveCoord: (3,6)(2,5)【2】\n【6】\nSymmetry_V: \n9/4K4/2R1C4/4rp3/9/9/9/9/9/5k3\n　　　　　　　红　方　　　　　　　\n一　二　三　四　五　六　七　八　九\n┏━┯━┯━┯━┯━┯━┯━┯━┓\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─帅─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n┠─╬─车─┼─炮─┼─┼─╬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─╬─┼─車─卒─╬─┼─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─╬─┼─╬─┼─╬─┼─┨\n┃　│　│　│　│　│　│　│　┃\n┠─╬─┼─┼─┼─┼─┼─╬─┨\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─╳─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n┗━┷━┷━┷━┷━将━┷━┷━┛\n９　８　７　６　５　４　３　２　１\n　　　　　　　黑　方　　　　　　　\n红帅K(8,4) CanMoveCoord: (8,3)(8,5)(9,4)【3】\n红车R(7,2) CanMoveCoord: (6,2)(5,2)(4,2)(3,2)(2,2)(1,2)(0,2)(8,2)(9,2)(7,1)(7,0)(7,3)【12】\n红炮C(7,4) CanMoveCoord: 【0】\n黑将k(0,5) CanMoveCoord: (1,5)【1】\n黑車r(6,4) CanMoveCoord: (5,4)(4,4)(3,4)(2,4)(1,4)(0,4)(7,4)(6,3)(6,2)(6,1)(6,0)【11】\n黑卒p(6,5) CanMoveCoord: (6,6)(7,5)【2】\n【6】\nRotate: \n3k5/9/9/9/9/9/3pr4/4C1R2/4K4/9\n　　　　　　　黑　方　　　　　　　\n１　２　３　４　５　６　７　８　９\n┏━┯━┯━将━┯━┯━┯━┯━┓\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─╳─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n┠─╬─┼─┼─┼─┼─┼─╬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─╬─┼─╬─┼─╬─┼─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─╬─卒─車─┼─╬─┼─┨\n┃　│　│　│　│　│　│　│　┃\n┠─╬─┼─┼─炮─┼─车─╬─┨\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─帅─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n┗━┷━┷━┷━┷━┷━┷━┷━┛\n九　八　七　六　五　四　三　二　一\n　　　　　　　红　方　　　　　　　\n红帅K(1,4) CanMoveCoord: (1,3)(1,5)(0,4)【3】\n红车R(2,6) CanMoveCoord: (1,6)(0,6)(3,6)(4,6)(5,6)(6,6)(7,6)(8,6)(9,6)(2,5)(2,7)(2,8)【12】\n红炮C(2,4) CanMoveCoord: 【0】\n黑将k(9,3) CanMoveCoord: (8,3)【1】\n黑車r(3,4) CanMoveCoord: (2,4)(4,4)(5,4)(6,4)(7,4)(8,4)(9,4)(3,5)(3,6)(3,7)(3,8)【11】\n黑卒p(3,3) CanMoveCoord: (3,2)(2,3)【2】\n【6】\nSymmetry_H: \n5k3/9/9/9/9/9/4rp3/2R1C4/4K4/9\n　　　　　　　黑　方　　　　　　　\n１　２　３　４　５　６　７　８　９\n┏━┯━┯━┯━┯━将━┯━┯━┓\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─╳─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n┠─╬─┼─┼─┼─┼─┼─╬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─╬─┼─╬─┼─╬─┼─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─╬─┼─車─卒─╬─┼─┨\n┃　│　│　│　│　│　│　│　┃\n┠─╬─车─┼─炮─┼─┼─╬─┨\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─帅─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n┗━┷━┷━┷━┷━┷━┷━┷━┛\n九　八　七　六　五　四　三　二　一\n　　　　　　　红　方　　　　　　　\n红帅K(1,4) CanMoveCoord: (1,3)(1,5)(0,4)【3】\n红车R(2,2) CanMoveCoord: (1,2)(0,2)(3,2)(4,2)(5,2)(6,2)(7,2)(8,2)(9,2)(2,1)(2,0)(2,3)【12】\n红炮C(2,4) CanMoveCoord: 【0】\n黑将k(9,5) CanMoveCoord: (8,5)【1】\n黑車r(3,4) CanMoveCoord: (2,4)(4,4)(5,4)(6,4)(7,4)(8,4)(9,4)(3,3)(3,2)(3,1)(3,0)【11】\n黑卒p(3,5) CanMoveCoord: (3,6)(2,5)【2】\n【6】\nExchange: \n5K3/9/9/9/9/9/4RP3/2r1c4/4k4/9\n　　　　　　　红　方　　　　　　　\n一　二　三　四　五　六　七　八　九\n┏━┯━┯━┯━┯━帅━┯━┯━┓\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─╳─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n┠─╬─┼─┼─┼─┼─┼─╬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─╬─┼─╬─┼─╬─┼─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─╬─┼─车─兵─╬─┼─┨\n┃　│　│　│　│　│　│　│　┃\n┠─╬─車─┼─砲─┼─┼─╬─┨\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─将─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n┗━┷━┷━┷━┷━┷━┷━┷━┛\n９　８　７　６　５　４　３　２　１\n　　　　　　　黑　方　　　　　　　\n红帅K(9,5) CanMoveCoord: (8,5)【1】\n红车R(3,4) CanMoveCoord: (2,4)(4,4)(5,4)(6,4)(7,4)(8,4)(9,4)(3,3)(3,2)(3,1)(3,0)【11】\n红兵P(3,5) CanMoveCoord: (3,6)(2,5)【2】\n黑将k(1,4) CanMoveCoord: (1,3)(1,5)(0,4)【3】\n黑車r(2,2) CanMoveCoord: (1,2)(0,2)(3,2)(4,2)(5,2)(6,2)(7,2)(8,2)(9,2)(2,1)(2,0)(2,3)【12】\n黑砲c(2,4) CanMoveCoord: 【0】\n【6】\n"
    };
    string CanMoveCoordString()
    {
        List<Piece> livePieces = board.LivePieces(PieceColor.Red);
        livePieces.AddRange(board.LivePieces(PieceColor.Black));
        return Utility.GetString(livePieces,
            piece => piece.ToString() + " CanMoveCoord: " + Utility.GetString(board.CanMoveCoord(piece.Coord), showCoord), "\n");
    }
    int index = 0;
    foreach(string fen in fens)
    {
        result = "";
        board.SetFEN(fen);
        foreach(var ct in new List<ChangeType> {
            ChangeType.NoChange, ChangeType.Symmetry_V,
            ChangeType.Rotate, ChangeType.Symmetry_H, ChangeType.Exchange        })
        {
            board.ChangeLayout(ct);
            result += $"{ct}: \n{board.GetFEN()}\n{board}{CanMoveCoordString()}\n";
        }
        Debug.Assert(expectStrings[index++] == result);
    }
}

string[] fileNames = new string[]{
        "01",
        "4四量拨千斤",
        "第09局",
        "布局陷阱--飞相局对金钩炮",
        // "- 北京张强 (和) 上海胡荣华 (1993.4.27于南京)",

        //"中炮对屏风马",
        //"中炮【马8进7】",
        //"黑用开局库",
        //"仙人指路全集（史上最全最新版）",
        //"飞相局【卒7进1】",
        //"中炮【马2进3】"
    };

static string FullFileName(string fileName, FileExtType extType)
    => @"output/" + fileName + Manual.GetExtName(extType);

void TestManual()
{
    string[] expectManualStrings = {
    "[FEN \"5a3/4ak2r/6R2/8p/9/9/9/B4N2B/4K4/3c5 r - - 0 1\"]\n[version \"18\"]\n[win \"红胜\"]\n[type \"残局\"]\n[title \"\u0006第01局\"]\n[event \"\"]\n[date \"\"]\n[site \"\"]\n[red \"\"]\n[black \"\"]\n[opening \"\"]\n[writer \"\"]\n[author \"\"]\n\n(2) +2546{从相肩进马是取胜的正确途径。其它着法，均不能取胜。}(4) +2544(1) +0393(1) +0373(1) +8475(1) +6858(1) +0393(1) +4654{不怕黑炮平中拴链，进观的攻势含蓄双有诱惑性，是红方制胜的关键。}(1) +4654(2) +4667{叫杀得车。} +4654(1) +4456(1) +9394(1) +7374(1) +8887(1) +8868(1) +9394(1) +7675{弃车，与前着相联系，由此巧妙成杀。}(1) +5466 +7675(1) +7686 +1413(1) +8475(1) +8475(2) +8887(1) +5466 +5466 +5473 +5677(1) +8777(1) +7677(1) +8493(1) +7787(1) +8575{至此，形成少见的高将底炮双士和单车的局面。}(1) +8767(1) +9584(1) +6765(1) +7574(1) +6568(1) +7475(1) +6865(1) +7574(1) +1303(1) +9495{和棋。} ",
    "[FEN \"rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR r - - 0 1\"]\n[version \"10\"]\n[win \"未知\"]\n[type \"全局\"]\n[title \"四量拨千斤\"]\n[event \"\"]\n[date \"\"]\n[site \"\"]\n[red \"\"]\n[black \"\"]\n[opening \"\"]\n[writer \"阎文清 张强\"]\n[author \"\b橘子黄了\"]\n\n(1) +2724(1) +9172(1) +0726(1) +7775(1) +0807(1) +9776(1) +0120(1) +6656{红方左马屯边，是一种老式的攻法，优点是大子出动速度较快，不利之处是双马位置欠佳，易成弱点。\n\n黑方挺卒活马，应着稳正，是对付红方边马阵形的有效战术。}(1) +2122{平炮七线，意在加强对黑方3路线的压力，但阵营不够稳固，容易给黑方提供骚扰反击的机会。如改走炮八平六，则相对来讲要稳健一些。}(1) +7655{黑方迅即跃马，有随时马6进4入侵的手段，是一种牵制战术。此外另有车1平2的选择，以下形成车九平八，炮2进4，车二进六，各攻一翼之势。}(1) +0001(1) +7170{当然之着，可摆脱红车的牵制。如果走车1平2，则车八进四，黑方因单马护守中卒而不能炮2平1自然邀兑。红方占优。}(1) +3646{带有欺骗性的弃兵，意在强行打开局面，实施快攻战术。通常红方多走车八进四或车二进四。}(1) +5646{黑方去兵，当仁不让。如改走马6进4，红将兵三进一！马4进3，车八进二，炮6进5，马三进四，黑方得子受攻，形势不利。}(1) +0141{如图形势，面对红方的捉卒，黑方主要有两种应着：（甲）卒7进1；（乙）卒7平8。现分述如下：}(2) +4636{冲卒捉马，看起来是一步绝对先手，但却流于习俗，正为红方所算。}(1) +4647{平卒拦车，意在延缓红方攻势，取舍异常果断，有“四两拨千斤”之妙！}(1) +0757{！\n进车捉马，战术紧逼，乃预谋的攻着。}(1) +2647(1) +3626{另有两种选择：(1)马6退7，车二平三，车9进2，车三退二，红方主动；(2)马6退5，马三退一，黑方虽有一卒过河，但阵形呆滞，红方占有主动。}(1) +9897{佳着，可顺势抢先。}(1) +5755(1) +0727{高车生根，可立即迫兑黑方河口马，着法及时，否则纠缠下去于红方无益。}(1) +9384(1) +9747(1) +3242{依仗出子优势，红方继续贯彻强攻计划。若改走炮七平三，则象3进5，局面较为平稳，红方略占先手。}(1) +2747(1) +9274(1) +5547(1) +4252{！}(1) +4147(1) +6252{对黑方消极的象5进3，红有马九进七下伏马七进六或马七进五等手段，将全线出击。}(1) +9274{经过转换，烟消云散，双方趋于平稳。}(1) +2272(1) +3040(1) +7572(1) +9384{补士固防，稳正之着，当然不宜走卒3进1，否则红将兵七进一乘势进攻。}(1) +2464(1) +2262(1) +7202(1) +6858{细致的一手，不给红方炮七平一打卒的机会。}(1) +0314{红方持有中炮攻势，占有优势。} +2041(1) +9093{双方大致均势。\n\n\n［小结］对于红方所施的骗着，黑方（甲）变不够明智，遭到了红方的猛攻，处境不妙。（乙）变黑方妙用平卒巧着，有效地遏制了红方攻势，双方平分秋色。\n\n在本局中。红方的布局骗着具有快速突击的特点。对此，黑方愈是用强，红势则愈旺。黑若能冷静对待，并采取（乙）变着法，延缓红势的策略，可安然无恙。} ",
    "[FEN \"5k3/9/9/9/9/9/4rp3/2R1C4/4K4/9 r - - 0 1\"]\n[version \"18\"]\n[win \"红胜\"]\n[type \"残局\"]\n[title \"\u0006第09局\"]\n[event \"\"]\n[date \"\"]\n[site \"\"]\n[red \"\"]\n[black \"\"]\n[opening \"\"]\n[writer \"\"]\n[author \"\"]\n\n{这是一局炮斗车卒的范例。对车炮的运用颇有启迪，可资借鉴。}(1) +2242(3) +3430(2) +3433(1) +3484(1) +2425{献炮叫将，伏车八平四白脸将成杀，是获胜的关键。}(1) +2427(1) +4244{红车占中是获胜的休着。黑不敢平车邀兑，否则，红车五平四胜。}(1) +4247(1) +3534(1) +3034{将军。}(1) +9585(1) +8486(1) +4245(1) +2724{叫杀。}(1) +2425(1) +4797{红方升车再打将，使黑方车卒失去有机联系，是获胜的重要环节。}(1) +9594(1) +3430(1) +3534(1) +9585(1) +4544(2) +2427{“二打对一打”，红方不变作负。} +2526(1) +9737(3) +9495(1) +9493(1) +8595(1) +3536(1) +8636(1) +3525(1) +2526(1) +2535(1) +2636(1) +3747(1) +2425(1) +3735(1) +9585(1) +3010(1) +3424(1) +8595(1) +3525(1) +8584(1) +2636(1) +1404(1) +4424{红方胜定。} +4745(1) +3736 +3525{以下升车占中，海底捞月胜。} +3010{平炮再升炮打车，消灭小卒，催毁黑方中路屏障，是红方获胜的精华。}(1) +1013(1) +9594(1) +1404(1) +4434(1) +4544(1) +1015(1) +1323(1) +9493(1) +4434(1) +3494(1) +2423{红方胜定。} +1525(1) +9383(1) +3696(1) +3532{以下海底捞月红胜。} +2575(1) +3484(1) +8595(1) +8494(1) +9585(1) +9695(1) +7576(1) +9454(1) +8595(1) +5455 ",
    "[FEN \"rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR r - - 0 1\"]\n[version \"12\"]\n[win \"红胜\"]\n[type \"全局\"]\n[title \"\u0018布局陷阱--飞相局对金钩炮\"]\n[event \"\u0018布局陷阱--飞相局对金钩炮\"]\n[date \"\"]\n[site \"\"]\n[red \"\"]\n[black \"\"]\n[opening \"\"]\n[writer \"\"]\n[author \"\"]\n\n(1) +0624(1) +7772(1) +0818(1) +9776(1) +1813(1) +9897(1) +1383(1) +9170(1) +8381(1) +7101(1) +0001(1) +9674(1) +2120(1) +9584(1) +0171(1) +7273(1) +0715(1) +9757(1) +3040(1) +7363(1) +8183(1) +6373(1) +2060(1) +7091(1) +6050(1) +5755(1) +1507(1) +6656(1) +8381{红得子大优} ",
    "[FEN \"rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR r - - 0 1\"]\n[version \"13\"]\n[win \"和棋\"]\n[type \"全局\"]\n[title \"挺兵对卒底炮\"]\n[event \"\u001093全国象棋锦标赛\"]\n[date \"1993.4.27\"]\n[site \"\u0004南京\"]\n[red \"\b北京张强\"]\n[black \"上海胡荣华\"]\n[opening \"\"]\n[writer \"\"]\n[author \"\"]\n\n(1) +3242(1) +7172(1) +2724(1) +9274(1) +0726(1) +6252(1) +0120(1) +5242(1) +0807(1) +9888(1) +0001(1) +8883(1) +0314(1) +9384(1) +0747(1) +6656(1) +4742(1) +9776(1) +3646(1) +5646(1) +4246(1) +6050(1) +2123(1) +9170(1) +0171(1) +7655(1) +7161(1) +8343(1) +4645(1) +7776(1) +0628(1) +4353(1) +2464(1) +5352(1) +0224(1) +9091(1) +6191(1) +7091(1) +2647(1) +5547(1) +4547(1) +7292(1) +4746(1) +9272(1) +3040(1) +9183(1) +6465(1) +5255(1) +6567(1) +8364(1) +4641(1) +5040(1) +4140(1) +6452(1) +4090(1) +7292(1) +2032(1) +5554(1) +3444(1) +5244 ",
    };
    string[] expectManualDetailStrings = {
    "[FEN \"5a3/4ak2r/6R2/8p/9/9/9/B4N2B/4K4/3c5 r - - 0 1\"]\n[version \"18\"]\n[win \"红胜\"]\n[type \"残局\"]\n[title \"\u0006第01局\"]\n[event \"\"]\n[date \"\"]\n[site \"\"]\n[red \"\"]\n[black \"\"]\n[opening \"\"]\n[writer \"\"]\n[author \"\"]\n　　　　　　　黑　方　　　　　　　\n１　２　３　４　５　６　７　８　９\n┏━┯━┯━┯━┯━士━┯━┯━┓\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─士─将─┼─┼─車\n┃　│　│　│╱│╲│　│　│　┃\n┠─╬─┼─┼─┼─┼─车─╬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─╬─┼─╬─┼─╬─┼─卒\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─╬─┼─╬─┼─╬─┼─┨\n┃　│　│　│　│　│　│　│　┃\n相─╬─┼─┼─┼─马─┼─╬─相\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─帅─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n┗━┷━┷━砲━┷━┷━┷━┷━┛\n九　八　七　六　五　四　三　二　一\n　　　　　　　红　方　　　　　　　\n-[(-1,-1),(-1,-1)].0 \n\t0-[(2,5),(4,6)].1 从相肩进马是取胜的正确途径。其它着法，均不能取胜。\n\t0-[(2,5),(4,4)].2 \n\t\t1-[(0,3),(9,3)].3 \n\t\t1-[(0,3),(7,3)].4 \n\t\t1-[(8,4),(7,5)].5 \n\t\t1-[(6,8),(5,8)].6 \n\t\t2-[(0,3),(9,3)].7 \n\t\t\t3-[(4,6),(5,4)].8 不怕黑炮平中拴链，进观的攻势含蓄双有诱惑性，是红方制胜的关键。\n\t\t\t4-[(4,6),(5,4)].9 \n\t\t\t5-[(4,6),(6,7)].10 叫杀得车。\n\t\t\t6-[(4,6),(5,4)].11 \n\t\t\t7-[(4,4),(5,6)].12 \n\t\t\t\t8-[(9,3),(9,4)].13 \n\t\t\t\t9-[(7,3),(7,4)].14 \n\t\t\t\t9-[(8,8),(8,7)].15 \n\t\t\t\t11-[(8,8),(6,8)].16 \n\t\t\t\t12-[(9,3),(9,4)].17 \n\t\t\t\t\t13-[(7,6),(7,5)].18 弃车，与前着相联系，由此巧妙成杀。\n\t\t\t\t\t14-[(5,4),(6,6)].19 \n\t\t\t\t\t15-[(7,6),(7,5)].20 \n\t\t\t\t\t16-[(7,6),(8,6)].21 \n\t\t\t\t\t17-[(1,4),(1,3)].22 \n\t\t\t\t\t\t18-[(8,4),(7,5)].23 \n\t\t\t\t\t\t20-[(8,4),(7,5)].24 \n\t\t\t\t\t\t22-[(8,8),(8,7)].25 \n\t\t\t\t\t\t\t23-[(5,4),(6,6)].26 \n\t\t\t\t\t\t\t24-[(5,4),(6,6)].27 \n\t\t\t\t\t\t\t24-[(5,4),(7,3)].28 \n\t\t\t\t\t\t\t25-[(5,6),(7,7)].29 \n\t\t\t\t\t\t\t\t29-[(8,7),(7,7)].30 \n\t\t\t\t\t\t\t\t\t30-[(7,6),(7,7)].31 \n\t\t\t\t\t\t\t\t\t\t31-[(8,4),(9,3)].32 \n\t\t\t\t\t\t\t\t\t\t\t32-[(7,7),(8,7)].33 \n\t\t\t\t\t\t\t\t\t\t\t\t33-[(8,5),(7,5)].34 至此，形成少见的高将底炮双士和单车的局面。\n\t\t\t\t\t\t\t\t\t\t\t\t\t34-[(8,7),(6,7)].35 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t35-[(9,5),(8,4)].36 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t36-[(6,7),(6,5)].37 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t37-[(7,5),(7,4)].38 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t38-[(6,5),(6,8)].39 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t39-[(7,4),(7,5)].40 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t40-[(6,8),(6,5)].41 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t41-[(7,5),(7,4)].42 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t42-[(1,3),(0,3)].43 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t43-[(9,4),(9,5)].44 和棋。\n着法数量【44】\t注解数量【6】\t注解最长【31】\n\n",
    "[FEN \"rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR r - - 0 1\"]\n[version \"10\"]\n[win \"未知\"]\n[type \"全局\"]\n[title \"四量拨千斤\"]\n[event \"\"]\n[date \"\"]\n[site \"\"]\n[red \"\"]\n[black \"\"]\n[opening \"\"]\n[writer \"阎文清 张强\"]\n[author \"\b橘子黄了\"]\n　　　　　　　黑　方　　　　　　　\n１　２　３　４　５　６　７　８　９\n車━馬━象━士━将━士━象━馬━車\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─╳─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n┠─砲─┼─┼─┼─┼─┼─砲─┨\n┃　│　│　│　│　│　│　│　┃\n卒─┼─卒─┼─卒─┼─卒─┼─卒\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n兵─┼─兵─┼─兵─┼─兵─┼─兵\n┃　│　│　│　│　│　│　│　┃\n┠─炮─┼─┼─┼─┼─┼─炮─┨\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─╳─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n车━马━相━仕━帅━仕━相━马━车\n九　八　七　六　五　四　三　二　一\n　　　　　　　红　方　　　　　　　\n-[(-1,-1),(-1,-1)].0 \n\t0-[(2,7),(2,4)].1 \n\t\t1-[(9,1),(7,2)].2 \n\t\t\t2-[(0,7),(2,6)].3 \n\t\t\t\t3-[(7,7),(7,5)].4 \n\t\t\t\t\t4-[(0,8),(0,7)].5 \n\t\t\t\t\t\t5-[(9,7),(7,6)].6 \n\t\t\t\t\t\t\t6-[(0,1),(2,0)].7 \n\t\t\t\t\t\t\t\t7-[(6,6),(5,6)].8 红方左马屯边，是一种老式的攻法，优点是大子出动速度较快，不利之处是双马位置欠佳，易成弱点。\n\n黑方挺卒活马，应着稳正，是对付红方边马阵形的有效战术。\n\t\t\t\t\t\t\t\t\t8-[(2,1),(2,2)].9 平炮七线，意在加强对黑方3路线的压力，但阵营不够稳固，容易给黑方提供骚扰反击的机会。如改走炮八平六，则相对来讲要稳健一些。\n\t\t\t\t\t\t\t\t\t\t9-[(7,6),(5,5)].10 黑方迅即跃马，有随时马6进4入侵的手段，是一种牵制战术。此外另有车1平2的选择，以下形成车九平八，炮2进4，车二进六，各攻一翼之势。\n\t\t\t\t\t\t\t\t\t\t\t10-[(0,0),(0,1)].11 \n\t\t\t\t\t\t\t\t\t\t\t\t11-[(7,1),(7,0)].12 当然之着，可摆脱红车的牵制。如果走车1平2，则车八进四，黑方因单马护守中卒而不能炮2平1自然邀兑。红方占优。\n\t\t\t\t\t\t\t\t\t\t\t\t\t12-[(3,6),(4,6)].13 带有欺骗性的弃兵，意在强行打开局面，实施快攻战术。通常红方多走车八进四或车二进四。\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t13-[(5,6),(4,6)].14 黑方去兵，当仁不让。如改走马6进4，红将兵三进一！马4进3，车八进二，炮6进5，马三进四，黑方得子受攻，形势不利。\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t14-[(0,1),(4,1)].15 如图形势，面对红方的捉卒，黑方主要有两种应着：（甲）卒7进1；（乙）卒7平8。现分述如下：\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t15-[(4,6),(3,6)].16 冲卒捉马，看起来是一步绝对先手，但却流于习俗，正为红方所算。\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t15-[(4,6),(4,7)].17 平卒拦车，意在延缓红方攻势，取舍异常果断，有“四两拨千斤”之妙！\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t16-[(0,7),(5,7)].18 ！\n进车捉马，战术紧逼，乃预谋的攻着。\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t17-[(2,6),(4,7)].19 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t18-[(3,6),(2,6)].20 另有两种选择：(1)马6退7，车二平三，车9进2，车三退二，红方主动；(2)马6退5，马三退一，黑方虽有一卒过河，但阵形呆滞，红方占有主动。\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t19-[(9,8),(9,7)].21 佳着，可顺势抢先。\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t20-[(5,7),(5,5)].22 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t21-[(0,7),(2,7)].23 高车生根，可立即迫兑黑方河口马，着法及时，否则纠缠下去于红方无益。\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t22-[(9,3),(8,4)].24 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t23-[(9,7),(4,7)].25 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t24-[(3,2),(4,2)].26 依仗出子优势，红方继续贯彻强攻计划。若改走炮七平三，则象3进5，局面较为平稳，红方略占先手。\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t25-[(2,7),(4,7)].27 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t26-[(9,2),(7,4)].28 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t27-[(5,5),(4,7)].29 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t28-[(4,2),(5,2)].30 ！\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t29-[(4,1),(4,7)].31 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t30-[(6,2),(5,2)].32 对黑方消极的象5进3，红有马九进七下伏马七进六或马七进五等手段，将全线出击。\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t31-[(9,2),(7,4)].33 经过转换，烟消云散，双方趋于平稳。\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t32-[(2,2),(7,2)].34 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t33-[(3,0),(4,0)].35 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t34-[(7,5),(7,2)].36 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t35-[(9,3),(8,4)].37 补士固防，稳正之着，当然不宜走卒3进1，否则红将兵七进一乘势进攻。\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t36-[(2,4),(6,4)].38 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t37-[(2,2),(6,2)].39 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t38-[(7,2),(0,2)].40 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t39-[(6,8),(5,8)].41 细致的一手，不给红方炮七平一打卒的机会。\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t40-[(0,3),(1,4)].42 红方持有中炮攻势，占有优势。\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t41-[(2,0),(4,1)].43 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t43-[(9,0),(9,3)].44 双方大致均势。\n\n\n［小结］对于红方所施的骗着，黑方（甲）变不够明智，遭到了红方的猛攻，处境不妙。（乙）变黑方妙用平卒巧着，有效地遏制了红方攻势，双方平分秋色。\n\n在本局中。红方的布局骗着具有快速突击的特点。对此，黑方愈是用强，红势则愈旺。黑若能冷静对待，并采取（乙）变着法，延缓红势的策略，可安然无恙。\n着法数量【44】\t注解数量【21】\t注解最长【152】\n\n",
    "[FEN \"5k3/9/9/9/9/9/4rp3/2R1C4/4K4/9 r - - 0 1\"]\n[version \"18\"]\n[win \"红胜\"]\n[type \"残局\"]\n[title \"\u0006第09局\"]\n[event \"\"]\n[date \"\"]\n[site \"\"]\n[red \"\"]\n[black \"\"]\n[opening \"\"]\n[writer \"\"]\n[author \"\"]\n　　　　　　　黑　方　　　　　　　\n１　２　３　４　５　６　７　８　９\n┏━┯━┯━┯━┯━将━┯━┯━┓\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─╳─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n┠─╬─┼─┼─┼─┼─┼─╬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─╬─┼─╬─┼─╬─┼─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n┠─┼─╬─┼─車─卒─╬─┼─┨\n┃　│　│　│　│　│　│　│　┃\n┠─╬─车─┼─炮─┼─┼─╬─┨\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─帅─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n┗━┷━┷━┷━┷━┷━┷━┷━┛\n九　八　七　六　五　四　三　二　一\n　　　　　　　红　方　　　　　　　\n-[(-1,-1),(-1,-1)].0 这是一局炮斗车卒的范例。对车炮的运用颇有启迪，可资借鉴。\n\t0-[(2,2),(4,2)].1 \n\t\t1-[(3,4),(3,0)].2 \n\t\t1-[(3,4),(3,3)].3 \n\t\t1-[(3,4),(8,4)].4 \n\t\t\t2-[(2,4),(2,5)].5 献炮叫将，伏车八平四白脸将成杀，是获胜的关键。\n\t\t\t2-[(2,4),(2,7)].6 \n\t\t\t3-[(4,2),(4,4)].7 红车占中是获胜的休着。黑不敢平车邀兑，否则，红车五平四胜。\n\t\t\t4-[(4,2),(4,7)].8 \n\t\t\t\t5-[(3,5),(3,4)].9 \n\t\t\t\t6-[(3,0),(3,4)].10 将军。\n\t\t\t\t7-[(9,5),(8,5)].11 \n\t\t\t\t8-[(8,4),(8,6)].12 \n\t\t\t\t\t9-[(4,2),(4,5)].13 \n\t\t\t\t\t10-[(2,7),(2,4)].14 叫杀。\n\t\t\t\t\t11-[(2,4),(2,5)].15 \n\t\t\t\t\t12-[(4,7),(9,7)].16 红方升车再打将，使黑方车卒失去有机联系，是获胜的重要环节。\n\t\t\t\t\t\t13-[(9,5),(9,4)].17 \n\t\t\t\t\t\t14-[(3,4),(3,0)].18 \n\t\t\t\t\t\t15-[(3,5),(3,4)].19 \n\t\t\t\t\t\t16-[(9,5),(8,5)].20 \n\t\t\t\t\t\t\t17-[(4,5),(4,4)].21 \n\t\t\t\t\t\t\t18-[(2,4),(2,7)].22 “二打对一打”，红方不变作负。\n\t\t\t\t\t\t\t19-[(2,5),(2,6)].23 \n\t\t\t\t\t\t\t20-[(9,7),(3,7)].24 \n\t\t\t\t\t\t\t\t21-[(9,4),(9,5)].25 \n\t\t\t\t\t\t\t\t21-[(9,4),(9,3)].26 \n\t\t\t\t\t\t\t\t23-[(8,5),(9,5)].27 \n\t\t\t\t\t\t\t\t24-[(3,5),(3,6)].28 \n\t\t\t\t\t\t\t\t24-[(8,6),(3,6)].29 \n\t\t\t\t\t\t\t\t24-[(3,5),(2,5)].30 \n\t\t\t\t\t\t\t\t\t25-[(2,5),(2,6)].31 \n\t\t\t\t\t\t\t\t\t26-[(2,5),(3,5)].32 \n\t\t\t\t\t\t\t\t\t27-[(2,6),(3,6)].33 \n\t\t\t\t\t\t\t\t\t28-[(3,7),(4,7)].34 \n\t\t\t\t\t\t\t\t\t29-[(2,4),(2,5)].35 \n\t\t\t\t\t\t\t\t\t30-[(3,7),(3,5)].36 \n\t\t\t\t\t\t\t\t\t\t31-[(9,5),(8,5)].37 \n\t\t\t\t\t\t\t\t\t\t32-[(3,0),(1,0)].38 \n\t\t\t\t\t\t\t\t\t\t33-[(3,4),(2,4)].39 \n\t\t\t\t\t\t\t\t\t\t34-[(8,5),(9,5)].40 \n\t\t\t\t\t\t\t\t\t\t35-[(3,5),(2,5)].41 \n\t\t\t\t\t\t\t\t\t\t36-[(8,5),(8,4)].42 \n\t\t\t\t\t\t\t\t\t\t\t37-[(2,6),(3,6)].43 \n\t\t\t\t\t\t\t\t\t\t\t38-[(1,4),(0,4)].44 \n\t\t\t\t\t\t\t\t\t\t\t39-[(4,4),(2,4)].45 红方胜定。\n\t\t\t\t\t\t\t\t\t\t\t40-[(4,7),(4,5)].46 \n\t\t\t\t\t\t\t\t\t\t\t41-[(3,7),(3,6)].47 \n\t\t\t\t\t\t\t\t\t\t\t42-[(3,5),(2,5)].48 以下升车占中，海底捞月胜。\n\t\t\t\t\t\t\t\t\t\t\t\t43-[(3,0),(1,0)].49 平炮再升炮打车，消灭小卒，催毁黑方中路屏障，是红方获胜的精华。\n\t\t\t\t\t\t\t\t\t\t\t\t44-[(1,0),(1,3)].50 \n\t\t\t\t\t\t\t\t\t\t\t\t46-[(9,5),(9,4)].51 \n\t\t\t\t\t\t\t\t\t\t\t\t\t49-[(1,4),(0,4)].52 \n\t\t\t\t\t\t\t\t\t\t\t\t\t50-[(4,4),(3,4)].53 \n\t\t\t\t\t\t\t\t\t\t\t\t\t51-[(4,5),(4,4)].54 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t52-[(1,0),(1,5)].55 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t53-[(1,3),(2,3)].56 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t54-[(9,4),(9,3)].57 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t55-[(4,4),(3,4)].58 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t56-[(3,4),(9,4)].59 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t57-[(2,4),(2,3)].60 红方胜定。\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t58-[(1,5),(2,5)].61 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t59-[(9,3),(8,3)].62 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t61-[(3,6),(9,6)].63 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t62-[(3,5),(3,2)].64 以下海底捞月红胜。\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t63-[(2,5),(7,5)].65 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t65-[(3,4),(8,4)].66 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t66-[(8,5),(9,5)].67 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t67-[(8,4),(9,4)].68 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t68-[(9,5),(8,5)].69 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t69-[(9,6),(9,5)].70 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t70-[(7,5),(7,6)].71 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t71-[(9,4),(5,4)].72 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t72-[(8,5),(9,5)].73 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t73-[(5,4),(5,5)].74 \n着法数量【74】\t注解数量【11】\t注解最长【31】\n\n",
    "[FEN \"rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR r - - 0 1\"]\n[version \"12\"]\n[win \"红胜\"]\n[type \"全局\"]\n[title \"\u0018布局陷阱--飞相局对金钩炮\"]\n[event \"\u0018布局陷阱--飞相局对金钩炮\"]\n[date \"\"]\n[site \"\"]\n[red \"\"]\n[black \"\"]\n[opening \"\"]\n[writer \"\"]\n[author \"\"]\n　　　　　　　黑　方　　　　　　　\n１　２　３　４　５　６　７　８　９\n車━馬━象━士━将━士━象━馬━車\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─╳─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n┠─砲─┼─┼─┼─┼─┼─砲─┨\n┃　│　│　│　│　│　│　│　┃\n卒─┼─卒─┼─卒─┼─卒─┼─卒\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n兵─┼─兵─┼─兵─┼─兵─┼─兵\n┃　│　│　│　│　│　│　│　┃\n┠─炮─┼─┼─┼─┼─┼─炮─┨\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─╳─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n车━马━相━仕━帅━仕━相━马━车\n九　八　七　六　五　四　三　二　一\n　　　　　　　红　方　　　　　　　\n-[(-1,-1),(-1,-1)].0 \n\t0-[(0,6),(2,4)].1 \n\t\t1-[(7,7),(7,2)].2 \n\t\t\t2-[(0,8),(1,8)].3 \n\t\t\t\t3-[(9,7),(7,6)].4 \n\t\t\t\t\t4-[(1,8),(1,3)].5 \n\t\t\t\t\t\t5-[(9,8),(9,7)].6 \n\t\t\t\t\t\t\t6-[(1,3),(8,3)].7 \n\t\t\t\t\t\t\t\t7-[(9,1),(7,0)].8 \n\t\t\t\t\t\t\t\t\t8-[(8,3),(8,1)].9 \n\t\t\t\t\t\t\t\t\t\t9-[(7,1),(0,1)].10 \n\t\t\t\t\t\t\t\t\t\t\t10-[(0,0),(0,1)].11 \n\t\t\t\t\t\t\t\t\t\t\t\t11-[(9,6),(7,4)].12 \n\t\t\t\t\t\t\t\t\t\t\t\t\t12-[(2,1),(2,0)].13 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t13-[(9,5),(8,4)].14 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t14-[(0,1),(7,1)].15 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t15-[(7,2),(7,3)].16 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t16-[(0,7),(1,5)].17 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t17-[(9,7),(5,7)].18 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t18-[(3,0),(4,0)].19 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t19-[(7,3),(6,3)].20 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t20-[(8,1),(8,3)].21 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t21-[(6,3),(7,3)].22 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t22-[(2,0),(6,0)].23 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t23-[(7,0),(9,1)].24 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t24-[(6,0),(5,0)].25 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t25-[(5,7),(5,5)].26 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t26-[(1,5),(0,7)].27 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t27-[(6,6),(5,6)].28 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t28-[(8,3),(8,1)].29 红得子大优\n着法数量【29】\t注解数量【1】\t注解最长【5】\n\n",
    "[FEN \"rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR r - - 0 1\"]\n[version \"13\"]\n[win \"和棋\"]\n[type \"全局\"]\n[title \"挺兵对卒底炮\"]\n[event \"\u001093全国象棋锦标赛\"]\n[date \"1993.4.27\"]\n[site \"\u0004南京\"]\n[red \"\b北京张强\"]\n[black \"上海胡荣华\"]\n[opening \"\"]\n[writer \"\"]\n[author \"\"]\n　　　　　　　黑　方　　　　　　　\n１　２　３　４　５　６　７　８　９\n車━馬━象━士━将━士━象━馬━車\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─╳─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n┠─砲─┼─┼─┼─┼─┼─砲─┨\n┃　│　│　│　│　│　│　│　┃\n卒─┼─卒─┼─卒─┼─卒─┼─卒\n┃　│　│　│　│　│　│　│　┃\n┠─┴─┴─┴─┴─┴─┴─┴─┨\n┃　　　　　　　　　　　　　　　┃\n┠─┬─┬─┬─┬─┬─┬─┬─┨\n┃　│　│　│　│　│　│　│　┃\n兵─┼─兵─┼─兵─┼─兵─┼─兵\n┃　│　│　│　│　│　│　│　┃\n┠─炮─┼─┼─┼─┼─┼─炮─┨\n┃　│　│　│╲│╱│　│　│　┃\n┠─┼─┼─┼─╳─┼─┼─┼─┨\n┃　│　│　│╱│╲│　│　│　┃\n车━马━相━仕━帅━仕━相━马━车\n九　八　七　六　五　四　三　二　一\n　　　　　　　红　方　　　　　　　\n-[(-1,-1),(-1,-1)].0 \n\t0-[(3,2),(4,2)].1 \n\t\t1-[(7,1),(7,2)].2 \n\t\t\t2-[(2,7),(2,4)].3 \n\t\t\t\t3-[(9,2),(7,4)].4 \n\t\t\t\t\t4-[(0,7),(2,6)].5 \n\t\t\t\t\t\t5-[(6,2),(5,2)].6 \n\t\t\t\t\t\t\t6-[(0,1),(2,0)].7 \n\t\t\t\t\t\t\t\t7-[(5,2),(4,2)].8 \n\t\t\t\t\t\t\t\t\t8-[(0,8),(0,7)].9 \n\t\t\t\t\t\t\t\t\t\t9-[(9,8),(8,8)].10 \n\t\t\t\t\t\t\t\t\t\t\t10-[(0,0),(0,1)].11 \n\t\t\t\t\t\t\t\t\t\t\t\t11-[(8,8),(8,3)].12 \n\t\t\t\t\t\t\t\t\t\t\t\t\t12-[(0,3),(1,4)].13 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t13-[(9,3),(8,4)].14 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t14-[(0,7),(4,7)].15 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t15-[(6,6),(5,6)].16 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t16-[(4,7),(4,2)].17 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t17-[(9,7),(7,6)].18 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t18-[(3,6),(4,6)].19 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t19-[(5,6),(4,6)].20 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t20-[(4,2),(4,6)].21 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t21-[(6,0),(5,0)].22 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t22-[(2,1),(2,3)].23 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t23-[(9,1),(7,0)].24 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t24-[(0,1),(7,1)].25 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t25-[(7,6),(5,5)].26 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t26-[(7,1),(6,1)].27 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t27-[(8,3),(4,3)].28 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t28-[(4,6),(4,5)].29 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t29-[(7,7),(7,6)].30 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t30-[(0,6),(2,8)].31 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t31-[(4,3),(5,3)].32 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t32-[(2,4),(6,4)].33 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t33-[(5,3),(5,2)].34 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t34-[(0,2),(2,4)].35 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t35-[(9,0),(9,1)].36 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t36-[(6,1),(9,1)].37 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t37-[(7,0),(9,1)].38 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t38-[(2,6),(4,7)].39 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t39-[(5,5),(4,7)].40 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t40-[(4,5),(4,7)].41 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t41-[(7,2),(9,2)].42 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t42-[(4,7),(4,6)].43 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t43-[(9,2),(7,2)].44 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t44-[(3,0),(4,0)].45 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t45-[(9,1),(8,3)].46 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t46-[(6,4),(6,5)].47 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t47-[(5,2),(5,5)].48 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t48-[(6,5),(6,7)].49 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t49-[(8,3),(6,4)].50 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t50-[(4,6),(4,1)].51 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t51-[(5,0),(4,0)].52 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t52-[(4,1),(4,0)].53 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t53-[(6,4),(5,2)].54 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t54-[(4,0),(9,0)].55 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t55-[(7,2),(9,2)].56 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t56-[(2,0),(3,2)].57 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t57-[(5,5),(5,4)].58 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t58-[(3,4),(4,4)].59 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t59-[(5,2),(4,4)].60 \n着法数量【60】\t注解数量【0】\t注解最长【0】\n\n",
    };
    for(int fileIndex = 0;fileIndex < fileNames.Length;fileIndex++)
    {
        FileExtType[] fileExtTypes = new FileExtType[] { FileExtType.Xqf, FileExtType.Cm, FileExtType.Text,
            FileExtType.PGNRowCol, FileExtType.PGNIccs, FileExtType.PGNZh};
        foreach(var fileExtType in fileExtTypes)
        {
            FileExtType toFileExtType = fileExtType == FileExtType.PGNZh ? FileExtType.PGNZh : fileExtTypes[(int)fileExtType + 1];
            string fileName = FullFileName(fileNames[fileIndex], fileExtType),
                toFileName = FullFileName(fileNames[fileIndex] + (fileExtType == FileExtType.PGNZh ? "-副本" : ""), toFileExtType);

            Manual manual = new(fileName);
            string result = manual.GetString();
            Debug.Assert(expectManualStrings[fileIndex] == result);

            result = manual.ToString(true, true);
            Debug.Assert(expectManualDetailStrings[fileIndex] == result);

            manual.Write(toFileName);
        }
    }
}

void TestDatabase()
{
    string[] expectMoveStrings = {
        "(1) +2724(1) +9172(1) +0726(1) +7775(1) +0807(1) +9776(1) +3242(1) +6656(1) +2141(1) +9674(1) +0122(1) +7655(1) +0314(1) +9584(1) +2423(1) +7151(1) +0224(1) +9896(1) +0747(1) +6050(1) +2243(1) +5543(1) +4743(1) +5155(1) +2321(1) +7576(1) +4131(1) +9697(1) +4345(1) +5595(1) +4585(1) +6454(1) +0003(1) +9767(1) +8586(1) +7678(1) +0383(1) +9080(1) +3181(1) +8070(1) +8184(1) +7071(1) +8454(1) +6764(1) +3444(1) +7121(1) +8676(1) +7888(1) +7674(1) +9384(1) +7484(1) +7284(1) +8384(1) +9493(1) +8464(1) +2101(1) +1403(1) +0103(1) +0414(1) +0333(1) +6484(1) +8878(1) +8464(1) +7871(1) +5451(1) +9535(1) +4454(1) +3530(1) +5455(1) +5040(1) +6462(1) +3020(1) +6292(1) +9383(1) +9282(1) +8393(1) +8272(1) +7161(1) +7262(1) +6171(1) +2607(1) +4030(1) +6261(1) +7177(1) +6167(1) +7775(1) +6765(1) +7577(1) +4252(1) +7747(1) +2446(1) +4717(1) +5262(1) +2026(1) +6563(1) +3363(1) +6263 ",
        "(1) +2724(1) +9776(1) +0726(1) +9897(1) +0807(1) +6656(1) +0767(1) +9172(1) +3242(1) +9080(1) +0122(1) +8083(1) +2120(1) +7131(1) +3646(1) +5646(1) +6766(1) +7737(1) +6646(1) +3736(1) +0628(1) +7655(1) +3444(1) +9674(1) +0001(1) +8333(1) +2241(1) +3332(1) +4454(1) +6454(1) +3040(1) +9767(1) +0514(1) +9384(1) +4160(1) +7264(1) +2464(1) +6764(1) +2030(1) +3141(1) +6041(1) +3630(1) +4050(1) +5444(1) +0224(1) +5567(1) +4676(1) +4434(1) +2806(1) +3424(1) +0624(1) +6755(1) +7646(1) +6424(1) +4162(1) +5536(1) +2605(1) +2464(1) +6283(1) +6463(1) +8371(1) +6364(1) +7183(1) +6454(1) +8362(1) +5464(1) +6283(1) +6463(1) +8371(1) +6364(1) +4252(1) +3644(1) +4626(1) +3038(1) +2628(1) +3233(1) +0121(1) +3858(1) +0524(1) +5854(1) +2141(1) +4423(1) +0405(1) +3335(1) +2825(1) +5455(1) +4145(1) +3525(1) +1425(1) +6424(1) +0314(1) +2414 ",
        "(1) +2724(1) +9172(1) +0726(1) +7775(1) +0807(1) +9776(1) +3646(1) +6252(1) +0120(1) +9674(1) +2122(1) +9091(1) +0001(1) +7131(1) +3242(1) +5242(1) +4656(1) +6656(1) +0747(1) +3132(1) +0100(1) +7535(1) +4742(1) +7253(1) +4243(1) +5341(1) +2032(1) +4122(1) +0020(1) +3532(1) +2022(1) +3252(1) +3444(1) +9584(1) +4454(1) +6454(1) +4383(1) +9171(1) +2645(1) +9895(1) +4553(1) +7655(1) +5374(1) +5202(1) +2202(1) +5574(1) +0292(1) +9565(1) +9252(1) +5444(1) +8333(1) +7462(1) +3332(1) +6281(1) +5254(1) +7141(1) +5456(1) +4171(1) +5696(1) +6595(1) +9646(1) +7141(1) +3282(1) +9565(1) +0514(1) +6858(1) +2427(1) +6595(1) +2787(1) +4445(1) +4666(1) +4131(1) +8281(1) +3130(1) +8777(1) +9575(1) +7767(1) +3038 ",
        "(1) +2724(1) +9776(1) +0726(1) +9897(1) +0807(1) +9172(1) +3646(1) +6252(1) +2161(1) +9674(1) +6162(1) +7111(1) +0010(1) +9091(1) +0717(1) +1121(1) +2645(1) +9161(1) +6266(1) +6141(1) +1015(1) +4143(1) +4656(1) +2141(1) +4526(1) +9584(1) +1513(1) +4313(1) +1713(1) +7456(1) +1343(1) +4181(1) +0122(1) +8182(1) +2647(1) +7757(1) +2426(1) +9795(1) +0224(1) +9565(1) +6667(1) +6567(1) +2676(1) +6777(1) +7666(1) +7775(1) +4726(1) +5787(1) +2214(1) +5674(1) +4345(1) +7577(1) +4565(1) +7767(1) +2645(1) +8281(1) +3444(1) +7253(1) +4454(1) +5332(1) +1402(1) +6454(1) +6564(1) +5444(1) +6660(1) +6764(1) +4564(1) +8101(1) +6062(1) +3211(1) +0414(1) +8737(1) +6476(1) +3734(1) +1413(1) +3433(1) +1314(1) +5242(1) +6267(1) +4232(1) +6717(1) +1130(1) +0221(1) +3022(1) +1415(1) +2203(1) +1514(1) +0322(1) +1415(1) +3231(1) +2102(1) +4434(1) +2446(1) +3338(1) +7668(1) +3835(1) +0223(1) +3585(1) +1727(1) +2243(1) +2344(1) +0106(1) +6887(1) +4322(1) +0514(1) +3435(1) +4465(1) +2241(1) +2757(1) +0600(1) +1505(1) +4153(1) +5754(1) +0050(1) +5450(1) +5365(1) +8766(1) +8575(1) +4628(1) +3132(1) +0504(1) +3233(1) +5054(1) +6573(1) +5457(1) +7352(1) +6654(1) +5244(1) +5475(1) +8475 ",
        "(1) +2724(1) +9776(1) +0726(1) +9897(1) +0807(1) +9172(1) +3646(1) +6252(1) +0120(1) +9384(1) +2161(1) +9674(1) +0010(1) +6050(1) +6166(1) +5040(1) +3040(1) +9040(1) +4656(1) +7151(1) +1015(1) +5156(1) +0747(1) +4047(1) +2647(1) +7778(1) +4755(1) +7888(1) +2426(1) +9777(1) +2041(1) +8475(1) +2620(1) +7280(1) +4160(1) +9584(1) +5563(1) +8061(1) +6384(1) +5654(1) +0224(1) +6140(1) +1575(1) +9484(1) +6072(1) +8494(1) +7264(1) +5456(1) +6472(1) +8884(1) +6660(1) +8434(1) +0314(1) +5654(1) +6090(1) +9270(1) +2070 ",

        "(2) +2546{从相肩进马是取胜的正确途径。其它着法，均不能取胜。}(4) +2544(1) +0393(1) +0373(1) +8475(1) +6858(1) +0393(1) +4654{不怕黑炮平中拴链，进观的攻势含蓄双有诱惑性，是红方制胜的关键。}(1) +4654(2) +4667{叫杀得车。} +4654(1) +4456(1) +9394(1) +7374(1) +8887(1) +8868(1) +9394(1) +7675{弃车，与前着相联系，由此巧妙成杀。}(1) +5466 +7675(1) +7686 +1413(1) +8475(1) +8475(2) +8887(1) +5466 +5466 +5473 +5677(1) +8777(1) +7677(1) +8493(1) +7787(1) +8575{至此，形成少见的高将底炮双士和单车的局面。}(1) +8767(1) +9584(1) +6765(1) +7574(1) +6568(1) +7475(1) +6865(1) +7574(1) +1303(1) +9495{和棋。} ",
        "(1) +2724(1) +9172(1) +0726(1) +7775(1) +0807(1) +9776(1) +0120(1) +6656{红方左马屯边，是一种老式的攻法，优点是大子出动速度较快，不利之处是双马位置欠佳，易成弱点。\n\n黑方挺卒活马，应着稳正，是对付红方边马阵形的有效战术。}(1) +2122{平炮七线，意在加强对黑方3路线的压力，但阵营不够稳固，容易给黑方提供骚扰反击的机会。如改走炮八平六，则相对来讲要稳健一些。}(1) +7655{黑方迅即跃马，有随时马6进4入侵的手段，是一种牵制战术。此外另有车1平2的选择，以下形成车九平八，炮2进4，车二进六，各攻一翼之势。}(1) +0001(1) +7170{当然之着，可摆脱红车的牵制。如果走车1平2，则车八进四，黑方因单马护守中卒而不能炮2平1自然邀兑。红方占优。}(1) +3646{带有欺骗性的弃兵，意在强行打开局面，实施快攻战术。通常红方多走车八进四或车二进四。}(1) +5646{黑方去兵，当仁不让。如改走马6进4，红将兵三进一！马4进3，车八进二，炮6进5，马三进四，黑方得子受攻，形势不利。}(1) +0141{如图形势，面对红方的捉卒，黑方主要有两种应着：（甲）卒7进1；（乙）卒7平8。现分述如下：}(2) +4636{冲卒捉马，看起来是一步绝对先手，但却流于习俗，正为红方所算。}(1) +4647{平卒拦车，意在延缓红方攻势，取舍异常果断，有“四两拨千斤”之妙！}(1) +0757{！\n进车捉马，战术紧逼，乃预谋的攻着。}(1) +2647(1) +3626{另有两种选择：(1)马6退7，车二平三，车9进2，车三退二，红方主动；(2)马6退5，马三退一，黑方虽有一卒过河，但阵形呆滞，红方占有主动。}(1) +9897{佳着，可顺势抢先。}(1) +5755(1) +0727{高车生根，可立即迫兑黑方河口马，着法及时，否则纠缠下去于红方无益。}(1) +9384(1) +9747(1) +3242{依仗出子优势，红方继续贯彻强攻计划。若改走炮七平三，则象3进5，局面较为平稳，红方略占先手。}(1) +2747(1) +9274(1) +5547(1) +4252{！}(1) +4147(1) +6252{对黑方消极的象5进3，红有马九进七下伏马七进六或马七进五等手段，将全线出击。}(1) +9274{经过转换，烟消云散，双方趋于平稳。}(1) +2272(1) +3040(1) +7572(1) +9384{补士固防，稳正之着，当然不宜走卒3进1，否则红将兵七进一乘势进攻。}(1) +2464(1) +2262(1) +7202(1) +6858{细致的一手，不给红方炮七平一打卒的机会。}(1) +0314{红方持有中炮攻势，占有优势。} +2041(1) +9093{双方大致均势。\n\n\n［小结］对于红方所施的骗着，黑方（甲）变不够明智，遭到了红方的猛攻，处境不妙。（乙）变黑方妙用平卒巧着，有效地遏制了红方攻势，双方平分秋色。\n\n在本局中。红方的布局骗着具有快速突击的特点。对此，黑方愈是用强，红势则愈旺。黑若能冷静对待，并采取（乙）变着法，延缓红势的策略，可安然无恙。} ",
        "{这是一局炮斗车卒的范例。对车炮的运用颇有启迪，可资借鉴。}(1) +2242(3) +3430(2) +3433(1) +3484(1) +2425{献炮叫将，伏车八平四白脸将成杀，是获胜的关键。}(1) +2427(1) +4244{红车占中是获胜的休着。黑不敢平车邀兑，否则，红车五平四胜。}(1) +4247(1) +3534(1) +3034{将军。}(1) +9585(1) +8486(1) +4245(1) +2724{叫杀。}(1) +2425(1) +4797{红方升车再打将，使黑方车卒失去有机联系，是获胜的重要环节。}(1) +9594(1) +3430(1) +3534(1) +9585(1) +4544(2) +2427{“二打对一打”，红方不变作负。} +2526(1) +9737(3) +9495(1) +9493(1) +8595(1) +3536(1) +8636(1) +3525(1) +2526(1) +2535(1) +2636(1) +3747(1) +2425(1) +3735(1) +9585(1) +3010(1) +3424(1) +8595(1) +3525(1) +8584(1) +2636(1) +1404(1) +4424{红方胜定。} +4745(1) +3736 +3525{以下升车占中，海底捞月胜。} +3010{平炮再升炮打车，消灭小卒，催毁黑方中路屏障，是红方获胜的精华。}(1) +1013(1) +9594(1) +1404(1) +4434(1) +4544(1) +1015(1) +1323(1) +9493(1) +4434(1) +3494(1) +2423{红方胜定。} +1525(1) +9383(1) +3696(1) +3532{以下海底捞月红胜。} +2575(1) +3484(1) +8595(1) +8494(1) +9585(1) +9695(1) +7576(1) +9454(1) +8595(1) +5455 ",
        "(1) +0624(1) +7772(1) +0818(1) +9776(1) +1813(1) +9897(1) +1383(1) +9170(1) +8381(1) +7101(1) +0001(1) +9674(1) +2120(1) +9584(1) +0171(1) +7273(1) +0715(1) +9757(1) +3040(1) +7363(1) +8183(1) +6373(1) +2060(1) +7091(1) +6050(1) +5755(1) +1507(1) +6656(1) +8381{红得子大优} ",
        "(1) +3242(1) +7172(1) +2724(1) +9274(1) +0726(1) +6252(1) +0120(1) +5242(1) +0807(1) +9888(1) +0001(1) +8883(1) +0314(1) +9384(1) +0747(1) +6656(1) +4742(1) +9776(1) +3646(1) +5646(1) +4246(1) +6050(1) +2123(1) +9170(1) +0171(1) +7655(1) +7161(1) +8343(1) +4645(1) +7776(1) +0628(1) +4353(1) +2464(1) +5352(1) +0224(1) +9091(1) +6191(1) +7091(1) +2647(1) +5547(1) +4547(1) +7292(1) +4746(1) +9272(1) +3040(1) +9183(1) +6465(1) +5255(1) +6567(1) +8364(1) +4641(1) +5040(1) +4140(1) +6452(1) +4090(1) +7292(1) +2032(1) +5554(1) +3444(1) +5244 ",
    };
    string[] expectManualStrings = {
        "[id \"1\"]\n[source \"https://www.xqbase.com/xqbase/?gameid=1\"]\n[title \"农民体协 毕彬彬 先胜 广东 文静 - 象棋巫师棋谱仓库\"]\n[event \"2000年全国象棋个人锦标赛\"]\n[date \"2000年11月\"]\n[site \"\"]\n[black \"广东 文静\"]\n[rowCols \"2724917207267775080797763242665621419674012276550314958424237151022498960747605022435543474351552321757641319697434555954585645400039767858676780383908031818070818470718454676434447121867678887674938474847284838494938464210114030103041403336484887884647871545195354454353054555040646230206292938392828393827271617262617126074030626171776167777567657577425277472446471752622026656333636263\"]\n[red \"农民体协 毕彬彬\"]\n[eccoSn \"B35\"]\n[eccoName \"中炮巡河炮对反宫马\"]\n[win \"红胜\"]\n\n(1) +2724(1) +9172(1) +0726(1) +7775(1) +0807(1) +9776(1) +3242(1) +6656(1) +2141(1) +9674(1) +0122(1) +7655(1) +0314(1) +9584(1) +2423(1) +7151(1) +0224(1) +9896(1) +0747(1) +6050(1) +2243(1) +5543(1) +4743(1) +5155(1) +2321(1) +7576(1) +4131(1) +9697(1) +4345(1) +5595(1) +4585(1) +6454(1) +0003(1) +9767(1) +8586(1) +7678(1) +0383(1) +9080(1) +3181(1) +8070(1) +8184(1) +7071(1) +8454(1) +6764(1) +3444(1) +7121(1) +8676(1) +7888(1) +7674(1) +9384(1) +7484(1) +7284(1) +8384(1) +9493(1) +8464(1) +2101(1) +1403(1) +0103(1) +0414(1) +0333(1) +6484(1) +8878(1) +8464(1) +7871(1) +5451(1) +9535(1) +4454(1) +3530(1) +5455(1) +5040(1) +6462(1) +3020(1) +6292(1) +9383(1) +9282(1) +8393(1) +8272(1) +7161(1) +7262(1) +6171(1) +2607(1) +4030(1) +6261(1) +7177(1) +6167(1) +7775(1) +6765(1) +7577(1) +4252(1) +7747(1) +2446(1) +4717(1) +5262(1) +2026(1) +6563(1) +3363(1) +6263 ",
        "[id \"2\"]\n[source \"https://www.xqbase.com/xqbase/?gameid=2\"]\n[title \"农民体协 毕彬彬 先负 浙江 金海英 - 象棋巫师棋谱仓库\"]\n[event \"2000年全国象棋个人锦标赛\"]\n[date \"2000年11月\"]\n[site \"\"]\n[black \"浙江 金海英\"]\n[rowCols \"27249776072698970807665607679172324290800122808321207131364656466766773766463736062876553444967400018333224133324454645430409767051493844160726424646764203031416041363040505444022455674676443428063424062467557646642441625536260524646283646383716364718364548362546462836463837163644252364446263038262832330121385805245854214144230405333528255455414535251425642403142414\"]\n[red \"农民体协 毕彬彬\"]\n[eccoSn \"C33\"]\n[eccoName \"中炮过河车互进七兵对屏风马右横车\"]\n[win \"黑胜\"]\n\n(1) +2724(1) +9776(1) +0726(1) +9897(1) +0807(1) +6656(1) +0767(1) +9172(1) +3242(1) +9080(1) +0122(1) +8083(1) +2120(1) +7131(1) +3646(1) +5646(1) +6766(1) +7737(1) +6646(1) +3736(1) +0628(1) +7655(1) +3444(1) +9674(1) +0001(1) +8333(1) +2241(1) +3332(1) +4454(1) +6454(1) +3040(1) +9767(1) +0514(1) +9384(1) +4160(1) +7264(1) +2464(1) +6764(1) +2030(1) +3141(1) +6041(1) +3630(1) +4050(1) +5444(1) +0224(1) +5567(1) +4676(1) +4434(1) +2806(1) +3424(1) +0624(1) +6755(1) +7646(1) +6424(1) +4162(1) +5536(1) +2605(1) +2464(1) +6283(1) +6463(1) +8371(1) +6364(1) +7183(1) +6454(1) +8362(1) +5464(1) +6283(1) +6463(1) +8371(1) +6364(1) +4252(1) +3644(1) +4626(1) +3038(1) +2628(1) +3233(1) +0121(1) +3858(1) +0524(1) +5854(1) +2141(1) +4423(1) +0405(1) +3335(1) +2825(1) +5455(1) +4145(1) +3525(1) +1425(1) +6424(1) +0314(1) +2414 ",
        "[id \"3\"]\n[source \"https://www.xqbase.com/xqbase/?gameid=3\"]\n[title \"农民体协 毕彬彬 先胜 山西 黄芳 - 象棋巫师棋谱仓库\"]\n[event \"2000年全国象棋个人锦标赛\"]\n[date \"2000年11月\"]\n[site \"\"]\n[black \"山西 黄芳\"]\n[rowCols \"272491720726777508079776364662520120967421229091000171313242524246566656074731320100753547427253424353412032412200203532202232523444958444546454438391712645989545537655537452022202557402929565925254448333746233326281525471415456417156966595964671413282956505146858242765952787444546664131828131308777957577673038\"]\n[red \"农民体协 毕彬彬\"]\n[eccoSn \"B56\"]\n[eccoName \"五七炮互进三兵对反宫马 红弃双兵对黑右炮过河\"]\n[win \"红胜\"]\n\n(1) +2724(1) +9172(1) +0726(1) +7775(1) +0807(1) +9776(1) +3646(1) +6252(1) +0120(1) +9674(1) +2122(1) +9091(1) +0001(1) +7131(1) +3242(1) +5242(1) +4656(1) +6656(1) +0747(1) +3132(1) +0100(1) +7535(1) +4742(1) +7253(1) +4243(1) +5341(1) +2032(1) +4122(1) +0020(1) +3532(1) +2022(1) +3252(1) +3444(1) +9584(1) +4454(1) +6454(1) +4383(1) +9171(1) +2645(1) +9895(1) +4553(1) +7655(1) +5374(1) +5202(1) +2202(1) +5574(1) +0292(1) +9565(1) +9252(1) +5444(1) +8333(1) +7462(1) +3332(1) +6281(1) +5254(1) +7141(1) +5456(1) +4171(1) +5696(1) +6595(1) +9646(1) +7141(1) +3282(1) +9565(1) +0514(1) +6858(1) +2427(1) +6595(1) +2787(1) +4445(1) +4666(1) +4131(1) +8281(1) +3130(1) +8777(1) +9575(1) +7767(1) +3038 ",
        "[id \"4\"]\n[source \"https://www.xqbase.com/xqbase/?gameid=4\"]\n[title \"沈阳 卜风波 先负 沈阳 苗永鹏 - 象棋巫师棋谱仓库\"]\n[event \"2000年全国象棋个人锦标赛\"]\n[date \"2000年11月\"]\n[site \"\"]\n[black \"沈阳 苗永鹏\"]\n[rowCols \"2724977607269897080791723646625221619674616271110010909107171121264591616266614110154143465621414526958415134313171374561343418101228182264777572426979502249565666765672676677776667775472657872214567443457577456577672645828134447253445453321402645465645444666067644564810160623211041487376476373414133433131452426267423267171130022130221415220315140322141532312102443424463338766838350223358517272243234401066887432205143435446522412757060015054153575400505450536587668575462831320504323350546573545773526654524454758475\"]\n[red \"沈阳 卜风波\"]\n[eccoSn \"C98\"]\n[eccoName \"五八炮互进三兵对屏风马 红平炮压马\"]\n[win \"黑胜\"]\n\n(1) +2724(1) +9776(1) +0726(1) +9897(1) +0807(1) +9172(1) +3646(1) +6252(1) +2161(1) +9674(1) +6162(1) +7111(1) +0010(1) +9091(1) +0717(1) +1121(1) +2645(1) +9161(1) +6266(1) +6141(1) +1015(1) +4143(1) +4656(1) +2141(1) +4526(1) +9584(1) +1513(1) +4313(1) +1713(1) +7456(1) +1343(1) +4181(1) +0122(1) +8182(1) +2647(1) +7757(1) +2426(1) +9795(1) +0224(1) +9565(1) +6667(1) +6567(1) +2676(1) +6777(1) +7666(1) +7775(1) +4726(1) +5787(1) +2214(1) +5674(1) +4345(1) +7577(1) +4565(1) +7767(1) +2645(1) +8281(1) +3444(1) +7253(1) +4454(1) +5332(1) +1402(1) +6454(1) +6564(1) +5444(1) +6660(1) +6764(1) +4564(1) +8101(1) +6062(1) +3211(1) +0414(1) +8737(1) +6476(1) +3734(1) +1413(1) +3433(1) +1314(1) +5242(1) +6267(1) +4232(1) +6717(1) +1130(1) +0221(1) +3022(1) +1415(1) +2203(1) +1514(1) +0322(1) +1415(1) +3231(1) +2102(1) +4434(1) +2446(1) +3338(1) +7668(1) +3835(1) +0223(1) +3585(1) +1727(1) +2243(1) +2344(1) +0106(1) +6887(1) +4322(1) +0514(1) +3435(1) +4465(1) +2241(1) +2757(1) +0600(1) +1505(1) +4153(1) +5754(1) +0050(1) +5450(1) +5365(1) +8766(1) +8575(1) +4628(1) +3132(1) +0504(1) +3233(1) +5054(1) +6573(1) +5457(1) +7352(1) +6654(1) +5244(1) +5475(1) +8475 ",
        "[id \"5\"]\n[source \"https://www.xqbase.com/xqbase/?gameid=5\"]\n[title \"沈阳 卜风波 先胜 火车头 宋国强 - 象棋巫师棋谱仓库\"]\n[event \"2000年全国象棋个人锦标赛\"]\n[date \"2000年11月\"]\n[site \"\"]\n[black \"火车头 宋国强\"]\n[rowCols \"272497760726989708079172364662520120938421619674001060506166504030409040465671511015515607474047264777784755788824269777204184752620728041609584556380616384565402246140157594846072849472645456647288846660843403145654609092702070\"]\n[red \"沈阳 卜风波\"]\n[eccoSn \"C94\"]\n[eccoName \"五八炮互进三兵对屏风马 红左边马对黑上士\"]\n[win \"红胜\"]\n\n(1) +2724(1) +9776(1) +0726(1) +9897(1) +0807(1) +9172(1) +3646(1) +6252(1) +0120(1) +9384(1) +2161(1) +9674(1) +0010(1) +6050(1) +6166(1) +5040(1) +3040(1) +9040(1) +4656(1) +7151(1) +1015(1) +5156(1) +0747(1) +4047(1) +2647(1) +7778(1) +4755(1) +7888(1) +2426(1) +9777(1) +2041(1) +8475(1) +2620(1) +7280(1) +4160(1) +9584(1) +5563(1) +8061(1) +6384(1) +5654(1) +0224(1) +6140(1) +1575(1) +9484(1) +6072(1) +8494(1) +7264(1) +5456(1) +6472(1) +8884(1) +6660(1) +8434(1) +0314(1) +5654(1) +6090(1) +9270(1) +2070 ",

        "[id \"6\"]\n[source \"C:\\program1\\gitee\\cchess_cs\\cchess_con\\output\\01.xqf\"]\n[title \"\u0006第01局\"]\n[event \"\"]\n[date \"\"]\n[site \"\"]\n[black \"\"]\n[rowCols \"2546039346549394767584755466\"]\n[red \"\"]\n[win \"红胜\"]\n[opening \"\"]\n[writer \"\"]\n[author \"\"]\n[type \"残局\"]\n[version \"18\"]\n[FEN \"5a3/4ak2r/6R2/8p/9/9/9/B4N2B/4K4/3c5 r - - 0 1\"]\n[moveString \"(2) +2546{从相肩进马是取胜的正确途径。其它着法，均不能取胜。}(4) +2544(1) +0393(1) +0373(1) +8475(1) +6858(1) +0393(1) +4654{不怕黑炮平中拴链，进观的攻势含蓄双有诱惑性，是红方制胜的关键。}(1) +4654(2) +4667{叫杀得车。} +4654(1) +4456(1) +9394(1) +7374(1) +8887(1) +8868(1) +9394(1) +7675{弃车，与前着相联系，由此巧妙成杀。}(1) +5466 +7675(1) +7686 +1413(1) +8475(1) +8475(2) +8887(1) +5466 +5466 +5473 +5677(1) +8777(1) +7677(1) +8493(1) +7787(1) +8575{至此，形成少见的高将底炮双士和单车的局面。}(1) +8767(1) +9584(1) +6765(1) +7574(1) +6568(1) +7475(1) +6865(1) +7574(1) +1303(1) +9495{和棋。} \"]\n\n(2) +2546{从相肩进马是取胜的正确途径。其它着法，均不能取胜。}(4) +2544(1) +0393(1) +0373(1) +8475(1) +6858(1) +0393(1) +4654{不怕黑炮平中拴链，进观的攻势含蓄双有诱惑性，是红方制胜的关键。}(1) +4654(2) +4667{叫杀得车。} +4654(1) +4456(1) +9394(1) +7374(1) +8887(1) +8868(1) +9394(1) +7675{弃车，与前着相联系，由此巧妙成杀。}(1) +5466 +7675(1) +7686 +1413(1) +8475(1) +8475(2) +8887(1) +5466 +5466 +5473 +5677(1) +8777(1) +7677(1) +8493(1) +7787(1) +8575{至此，形成少见的高将底炮双士和单车的局面。}(1) +8767(1) +9584(1) +6765(1) +7574(1) +6568(1) +7475(1) +6865(1) +7574(1) +1303(1) +9495{和棋。} ",
        "[id \"7\"]\n[source \"C:\\program1\\gitee\\cchess_cs\\cchess_con\\output\\4四量拨千斤.xqf\"]\n[title \"四量拨千斤\"]\n[event \"\"]\n[date \"\"]\n[site \"\"]\n[black \"\"]\n[rowCols \"27249172072677750807977601206656212276550001717036465646014146360757362657559384324292744252625222727572246472020314\"]\n[red \"\"]\n[win \"未知\"]\n[opening \"\"]\n[writer \"阎文清 张强\"]\n[author \"\b橘子黄了\"]\n[type \"全局\"]\n[version \"10\"]\n[FEN \"rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR r - - 0 1\"]\n[moveString \"(1) +2724(1) +9172(1) +0726(1) +7775(1) +0807(1) +9776(1) +0120(1) +6656{红方左马屯边，是一种老式的攻法，优点是大子出动速度较快，不利之处是双马位置欠佳，易成弱点。\n\n黑方挺卒活马，应着稳正，是对付红方边马阵形的有效战术。}(1) +2122{平炮七线，意在加强对黑方3路线的压力，但阵营不够稳固，容易给黑方提供骚扰反击的机会。如改走炮八平六，则相对来讲要稳健一些。}(1) +7655{黑方迅即跃马，有随时马6进4入侵的手段，是一种牵制战术。此外另有车1平2的选择，以下形成车九平八，炮2进4，车二进六，各攻一翼之势。}(1) +0001(1) +7170{当然之着，可摆脱红车的牵制。如果走车1平2，则车八进四，黑方因单马护守中卒而不能炮2平1自然邀兑。红方占优。}(1) +3646{带有欺骗性的弃兵，意在强行打开局面，实施快攻战术。通常红方多走车八进四或车二进四。}(1) +5646{黑方去兵，当仁不让。如改走马6进4，红将兵三进一！马4进3，车八进二，炮6进5，马三进四，黑方得子受攻，形势不利。}(1) +0141{如图形势，面对红方的捉卒，黑方主要有两种应着：（甲）卒7进1；（乙）卒7平8。现分述如下：}(2) +4636{冲卒捉马，看起来是一步绝对先手，但却流于习俗，正为红方所算。}(1) +4647{平卒拦车，意在延缓红方攻势，取舍异常果断，有“四两拨千斤”之妙！}(1) +0757{！\n进车捉马，战术紧逼，乃预谋的攻着。}(1) +2647(1) +3626{另有两种选择：(1)马6退7，车二平三，车9进2，车三退二，红方主动；(2)马6退5，马三退一，黑方虽有一卒过河，但阵形呆滞，红方占有主动。}(1) +9897{佳着，可顺势抢先。}(1) +5755(1) +0727{高车生根，可立即迫兑黑方河口马，着法及时，否则纠缠下去于红方无益。}(1) +9384(1) +9747(1) +3242{依仗出子优势，红方继续贯彻强攻计划。若改走炮七平三，则象3进5，局面较为平稳，红方略占先手。}(1) +2747(1) +9274(1) +5547(1) +4252{！}(1) +4147(1) +6252{对黑方消极的象5进3，红有马九进七下伏马七进六或马七进五等手段，将全线出击。}(1) +9274{经过转换，烟消云散，双方趋于平稳。}(1) +2272(1) +3040(1) +7572(1) +9384{补士固防，稳正之着，当然不宜走卒3进1，否则红将兵七进一乘势进攻。}(1) +2464(1) +2262(1) +7202(1) +6858{细致的一手，不给红方炮七平一打卒的机会。}(1) +0314{红方持有中炮攻势，占有优势。} +2041(1) +9093{双方大致均势。\n\n\n［小结］对于红方所施的骗着，黑方（甲）变不够明智，遭到了红方的猛攻，处境不妙。（乙）变黑方妙用平卒巧着，有效地遏制了红方攻势，双方平分秋色。\n\n在本局中。红方的布局骗着具有快速突击的特点。对此，黑方愈是用强，红势则愈旺。黑若能冷静对待，并采取（乙）变着法，延缓红势的策略，可安然无恙。} \"]\n\n(1) +2724(1) +9172(1) +0726(1) +7775(1) +0807(1) +9776(1) +0120(1) +6656{红方左马屯边，是一种老式的攻法，优点是大子出动速度较快，不利之处是双马位置欠佳，易成弱点。\n\n黑方挺卒活马，应着稳正，是对付红方边马阵形的有效战术。}(1) +2122{平炮七线，意在加强对黑方3路线的压力，但阵营不够稳固，容易给黑方提供骚扰反击的机会。如改走炮八平六，则相对来讲要稳健一些。}(1) +7655{黑方迅即跃马，有随时马6进4入侵的手段，是一种牵制战术。此外另有车1平2的选择，以下形成车九平八，炮2进4，车二进六，各攻一翼之势。}(1) +0001(1) +7170{当然之着，可摆脱红车的牵制。如果走车1平2，则车八进四，黑方因单马护守中卒而不能炮2平1自然邀兑。红方占优。}(1) +3646{带有欺骗性的弃兵，意在强行打开局面，实施快攻战术。通常红方多走车八进四或车二进四。}(1) +5646{黑方去兵，当仁不让。如改走马6进4，红将兵三进一！马4进3，车八进二，炮6进5，马三进四，黑方得子受攻，形势不利。}(1) +0141{如图形势，面对红方的捉卒，黑方主要有两种应着：（甲）卒7进1；（乙）卒7平8。现分述如下：}(2) +4636{冲卒捉马，看起来是一步绝对先手，但却流于习俗，正为红方所算。}(1) +4647{平卒拦车，意在延缓红方攻势，取舍异常果断，有“四两拨千斤”之妙！}(1) +0757{！\n进车捉马，战术紧逼，乃预谋的攻着。}(1) +2647(1) +3626{另有两种选择：(1)马6退7，车二平三，车9进2，车三退二，红方主动；(2)马6退5，马三退一，黑方虽有一卒过河，但阵形呆滞，红方占有主动。}(1) +9897{佳着，可顺势抢先。}(1) +5755(1) +0727{高车生根，可立即迫兑黑方河口马，着法及时，否则纠缠下去于红方无益。}(1) +9384(1) +9747(1) +3242{依仗出子优势，红方继续贯彻强攻计划。若改走炮七平三，则象3进5，局面较为平稳，红方略占先手。}(1) +2747(1) +9274(1) +5547(1) +4252{！}(1) +4147(1) +6252{对黑方消极的象5进3，红有马九进七下伏马七进六或马七进五等手段，将全线出击。}(1) +9274{经过转换，烟消云散，双方趋于平稳。}(1) +2272(1) +3040(1) +7572(1) +9384{补士固防，稳正之着，当然不宜走卒3进1，否则红将兵七进一乘势进攻。}(1) +2464(1) +2262(1) +7202(1) +6858{细致的一手，不给红方炮七平一打卒的机会。}(1) +0314{红方持有中炮攻势，占有优势。} +2041(1) +9093{双方大致均势。\n\n\n［小结］对于红方所施的骗着，黑方（甲）变不够明智，遭到了红方的猛攻，处境不妙。（乙）变黑方妙用平卒巧着，有效地遏制了红方攻势，双方平分秋色。\n\n在本局中。红方的布局骗着具有快速突击的特点。对此，黑方愈是用强，红势则愈旺。黑若能冷静对待，并采取（乙）变着法，延缓红势的策略，可安然无恙。} ",
        "[id \"8\"]\n[source \"C:\\program1\\gitee\\cchess_cs\\cchess_con\\output\\第09局.xqf\"]\n[title \"\u0006第09局\"]\n[event \"\"]\n[date \"\"]\n[site \"\"]\n[black \"\"]\n[rowCols \"224234302425353442459594454494952526958526363010140410154434152536962575348485958494958596957576945485955455\"]\n[red \"\"]\n[win \"红胜\"]\n[opening \"\"]\n[writer \"\"]\n[author \"\"]\n[type \"残局\"]\n[version \"18\"]\n[FEN \"5k3/9/9/9/9/9/4rp3/2R1C4/4K4/9 r - - 0 1\"]\n[moveString \"{这是一局炮斗车卒的范例。对车炮的运用颇有启迪，可资借鉴。}(1) +2242(3) +3430(2) +3433(1) +3484(1) +2425{献炮叫将，伏车八平四白脸将成杀，是获胜的关键。}(1) +2427(1) +4244{红车占中是获胜的休着。黑不敢平车邀兑，否则，红车五平四胜。}(1) +4247(1) +3534(1) +3034{将军。}(1) +9585(1) +8486(1) +4245(1) +2724{叫杀。}(1) +2425(1) +4797{红方升车再打将，使黑方车卒失去有机联系，是获胜的重要环节。}(1) +9594(1) +3430(1) +3534(1) +9585(1) +4544(2) +2427{“二打对一打”，红方不变作负。} +2526(1) +9737(3) +9495(1) +9493(1) +8595(1) +3536(1) +8636(1) +3525(1) +2526(1) +2535(1) +2636(1) +3747(1) +2425(1) +3735(1) +9585(1) +3010(1) +3424(1) +8595(1) +3525(1) +8584(1) +2636(1) +1404(1) +4424{红方胜定。} +4745(1) +3736 +3525{以下升车占中，海底捞月胜。} +3010{平炮再升炮打车，消灭小卒，催毁黑方中路屏障，是红方获胜的精华。}(1) +1013(1) +9594(1) +1404(1) +4434(1) +4544(1) +1015(1) +1323(1) +9493(1) +4434(1) +3494(1) +2423{红方胜定。} +1525(1) +9383(1) +3696(1) +3532{以下海底捞月红胜。} +2575(1) +3484(1) +8595(1) +8494(1) +9585(1) +9695(1) +7576(1) +9454(1) +8595(1) +5455 \"]\n\n{这是一局炮斗车卒的范例。对车炮的运用颇有启迪，可资借鉴。}(1) +2242(3) +3430(2) +3433(1) +3484(1) +2425{献炮叫将，伏车八平四白脸将成杀，是获胜的关键。}(1) +2427(1) +4244{红车占中是获胜的休着。黑不敢平车邀兑，否则，红车五平四胜。}(1) +4247(1) +3534(1) +3034{将军。}(1) +9585(1) +8486(1) +4245(1) +2724{叫杀。}(1) +2425(1) +4797{红方升车再打将，使黑方车卒失去有机联系，是获胜的重要环节。}(1) +9594(1) +3430(1) +3534(1) +9585(1) +4544(2) +2427{“二打对一打”，红方不变作负。} +2526(1) +9737(3) +9495(1) +9493(1) +8595(1) +3536(1) +8636(1) +3525(1) +2526(1) +2535(1) +2636(1) +3747(1) +2425(1) +3735(1) +9585(1) +3010(1) +3424(1) +8595(1) +3525(1) +8584(1) +2636(1) +1404(1) +4424{红方胜定。} +4745(1) +3736 +3525{以下升车占中，海底捞月胜。} +3010{平炮再升炮打车，消灭小卒，催毁黑方中路屏障，是红方获胜的精华。}(1) +1013(1) +9594(1) +1404(1) +4434(1) +4544(1) +1015(1) +1323(1) +9493(1) +4434(1) +3494(1) +2423{红方胜定。} +1525(1) +9383(1) +3696(1) +3532{以下海底捞月红胜。} +2575(1) +3484(1) +8595(1) +8494(1) +9585(1) +9695(1) +7576(1) +9454(1) +8595(1) +5455 ",
        "[id \"9\"]\n[source \"C:\\program1\\gitee\\cchess_cs\\cchess_con\\output\\布局陷阱--飞相局对金钩炮.xqf\"]\n[title \"\u0018布局陷阱--飞相局对金钩炮\"]\n[event \"\u0018布局陷阱--飞相局对金钩炮\"]\n[date \"\"]\n[site \"\"]\n[black \"\"]\n[rowCols \"06247772081897761813989713839170838171010001967421209584017172730715975730407363818363732060709160505755150766568381\"]\n[red \"\"]\n[win \"红胜\"]\n[opening \"\"]\n[writer \"\"]\n[author \"\"]\n[type \"全局\"]\n[version \"12\"]\n[FEN \"rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR r - - 0 1\"]\n[moveString \"(1) +0624(1) +7772(1) +0818(1) +9776(1) +1813(1) +9897(1) +1383(1) +9170(1) +8381(1) +7101(1) +0001(1) +9674(1) +2120(1) +9584(1) +0171(1) +7273(1) +0715(1) +9757(1) +3040(1) +7363(1) +8183(1) +6373(1) +2060(1) +7091(1) +6050(1) +5755(1) +1507(1) +6656(1) +8381{红得子大优} \"]\n\n(1) +0624(1) +7772(1) +0818(1) +9776(1) +1813(1) +9897(1) +1383(1) +9170(1) +8381(1) +7101(1) +0001(1) +9674(1) +2120(1) +9584(1) +0171(1) +7273(1) +0715(1) +9757(1) +3040(1) +7363(1) +8183(1) +6373(1) +2060(1) +7091(1) +6050(1) +5755(1) +1507(1) +6656(1) +8381{红得子大优} ",
        "[id \"10\"]\n[source \"C:\\program1\\gitee\\cchess_cs\\cchess_con\\output\\- 北京张强 (和) 上海胡荣华 (1993.4.27于南京).xqf\"]\n[title \"挺兵对卒底炮\"]\n[event \"\u001093全国象棋锦标赛\"]\n[date \"1993.4.27\"]\n[site \"\u0004南京\"]\n[black \"上海胡荣华\"]\n[rowCols \"324271722724927407266252012052420807988800018883031493840747665647429776364656464246605021239170017176557161834346457776062843532464535202249091619170912647554745477292474692723040918364655255656783644641504041406452409072922032555434445244\"]\n[red \"\b北京张强\"]\n[win \"和棋\"]\n[opening \"\"]\n[writer \"\"]\n[author \"\"]\n[type \"全局\"]\n[version \"13\"]\n[FEN \"rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR r - - 0 1\"]\n[moveString \"(1) +3242(1) +7172(1) +2724(1) +9274(1) +0726(1) +6252(1) +0120(1) +5242(1) +0807(1) +9888(1) +0001(1) +8883(1) +0314(1) +9384(1) +0747(1) +6656(1) +4742(1) +9776(1) +3646(1) +5646(1) +4246(1) +6050(1) +2123(1) +9170(1) +0171(1) +7655(1) +7161(1) +8343(1) +4645(1) +7776(1) +0628(1) +4353(1) +2464(1) +5352(1) +0224(1) +9091(1) +6191(1) +7091(1) +2647(1) +5547(1) +4547(1) +7292(1) +4746(1) +9272(1) +3040(1) +9183(1) +6465(1) +5255(1) +6567(1) +8364(1) +4641(1) +5040(1) +4140(1) +6452(1) +4090(1) +7292(1) +2032(1) +5554(1) +3444(1) +5244 \"]\n\n(1) +3242(1) +7172(1) +2724(1) +9274(1) +0726(1) +6252(1) +0120(1) +5242(1) +0807(1) +9888(1) +0001(1) +8883(1) +0314(1) +9384(1) +0747(1) +6656(1) +4742(1) +9776(1) +3646(1) +5646(1) +4246(1) +6050(1) +2123(1) +9170(1) +0171(1) +7655(1) +7161(1) +8343(1) +4645(1) +7776(1) +0628(1) +4353(1) +2464(1) +5352(1) +0224(1) +9091(1) +6191(1) +7091(1) +2647(1) +5547(1) +4547(1) +7292(1) +4746(1) +9272(1) +3040(1) +9183(1) +6465(1) +5255(1) +6567(1) +8364(1) +4641(1) +5040(1) +4140(1) +6452(1) +4090(1) +7292(1) +2032(1) +5554(1) +3444(1) +5244 ",
    };
    Database db = new();
    //db.DownXqbaseManual(1, 5);
    //db.StorageFileManual(fileNames.Select(fileName => FullFileName(fileName, FileExtType.Xqf)));

    var manuals = db.GetManuals();
    int index = 0;
    foreach(var manual in manuals)
    {
        string result = manual.GetMoveString();
        Debug.Assert(expectMoveStrings[index] == result);

        result = manual.GetString();
        Debug.Assert(expectManualStrings[index++] == result);
    }

    Database.InitEccoData();
}

void TestAspect()
{
    using StreamWriter sw = File.CreateText(FullFileName("TestAspect", FileExtType.Text));
    Aspects aspects = new();
    foreach(string fileName in fileNames)
        aspects.Add(FullFileName(fileName, FileExtType.Cm));
    //sw.Write(aspects.ToString());

    string spFileName = FullFileName("Aspects", FileExtType.Text);
    aspects.Write(spFileName);

    Aspects aspects1 = new(spFileName);
    sw.Write(aspects1.ToString());
}

void Test()
{
    string TimeString(TimeSpan ts) => "RunTime " + String.Format("{0:00}:{1:00}:{2:00}.{3:00}\n",
            ts.Hours, ts.Minutes, ts.Seconds, ts.Milliseconds / 10);

    Stopwatch stopWatch = new();
    stopWatch.Restart();

    Trace.Listeners.Add(new TextWriterTraceListener(
        File.CreateText(Path.Combine(Environment.GetFolderPath(
            Environment.SpecialFolder.DesktopDirectory), "log.txt"))));
    Trace.AutoFlush = true;

    TestCoord();
    Debug.WriteLine("TestCoord finished.");

    TestSeat();
    Debug.WriteLine("TestSeat finished.");

    TestPiece();
    Debug.WriteLine("TestPiece finished.");

    TestBoard();
    Debug.WriteLine("TestBoard finished.");

    TestManual();
    Debug.WriteLine("TestManual finished.");

    TestDatabase();
    Debug.WriteLine("TestDatabase finished.");

    TestAspect();
    Debug.WriteLine("TestAspect finished.");

    stopWatch.Stop();
    Console.WriteLine(TimeString(stopWatch.Elapsed));
}
Test();

#endif